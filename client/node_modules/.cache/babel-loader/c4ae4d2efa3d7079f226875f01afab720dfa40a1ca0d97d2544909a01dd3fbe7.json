{"ast":null,"code":"import _objectSpread from\"/Applications/MAMP/htdocs/eky/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect,useMemo}from'react';import{useTranslation}from'react-i18next';import CardSmall from'../CardSmall';import EditDogModal from'./EditDogModal';import RemoveDogModal from'./RemoveDogModal';import DogDetails from'./DogDetails';import{useAuth}from'../../contexts/AuthContext';import Search from'../Search';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const API_URL=process.env.REACT_APP_API_URL||'';function DogList(){const{t}=useTranslation();const{token}=useAuth();const[dogs,setDogs]=useState([]);const[editDog,setEditDog]=useState(null);const[removeDog,setRemoveDog]=useState(null);const[detailsDog,setDetailsDog]=useState(null);const[mapDog,setMapDog]=useState(null);const[mapCoords,setMapCoords]=useState(null);const[mapLoading,setMapLoading]=useState(false);const[mapError,setMapError]=useState(null);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);// Search/filter state\nconst[searchTerm,setSearchTerm]=useState('');const[genderFilter,setGenderFilter]=useState('');const[sizeFilter,setSizeFilter]=useState('');const[locationFilter,setLocationFilter]=useState('');// Get unique locations for filter dropdown\nconst availableLocations=useMemo(()=>{const locations=dogs.map(dog=>dog.place||dog.location).filter(loc=>!!loc);return Array.from(new Set(locations)).sort();},[dogs]);// Filter dogs based on search/filters\nconst filteredDogs=useMemo(()=>{return dogs.filter(dog=>{// Search term matches name or breed\nconst term=searchTerm.toLowerCase();const matchesSearch=!term||dog.name&&dog.name.toLowerCase().includes(term)||dog.breed&&dog.breed.toLowerCase().includes(term);// Gender filter\nconst matchesGender=!genderFilter||dog.gender===genderFilter;// Size filter\nconst matchesSize=!sizeFilter||dog.size===sizeFilter;// Location filter\nconst dogLocation=dog.place||dog.location;const matchesLocation=!locationFilter||dogLocation===locationFilter;return matchesSearch&&matchesGender&&matchesSize&&matchesLocation;});},[dogs,searchTerm,genderFilter,sizeFilter,locationFilter]);// Geocode location for map modal\nconst openMapForDog=async dog=>{const location=dog.place||dog.location;if(!location)return;setMapDog({name:dog.name,location});setMapLoading(true);setMapError(null);setMapCoords(null);try{let query=location.trim();if(query.split(/\\s+/).length<2){query+=', Croatia';}const resp=await fetch(\"https://nominatim.openstreetmap.org/search?format=json&q=\".concat(encodeURIComponent(query),\"&limit=1\"));const data=await resp.json();if(data&&data.length>0){setMapCoords({lat:parseFloat(data[0].lat),lng:parseFloat(data[0].lon)});}else{setMapError(t('dogDetails.locationNotFound','Location not found'));}}catch(e){setMapError(t('dogDetails.locationSearchFailed','Location search failed'));}finally{setMapLoading(false);}};useEffect(()=>{setLoading(true);fetch(\"\".concat(API_URL,\"/api/dogs\")).then(res=>res.json()).then(data=>{setDogs(Array.isArray(data)?data:[]);setLoading(false);}).catch(err=>{setError('Failed to load dogs');setLoading(false);});},[]);const isDesktop=typeof window!=='undefined'&&window.innerWidth>=900;const handleEdit=dog=>setEditDog(dog);const handleRemove=dog=>setRemoveDog(dog);const handleDetails=dog=>setDetailsDog(dog);const handleEditSave=async updatedDog=>{// Use FormData for PATCH with files\nconst formData=new FormData();// Append all fields except images\nObject.entries(updatedDog).forEach(_ref=>{let[key,value]=_ref;if(key==='images'&&Array.isArray(value)){value.forEach(file=>{formData.append('media',file);});}else if(value!==undefined&&value!==null){// Only append string or Blob/File, otherwise convert to string\n// Special handling for gender: skip if null, 'null', or empty string\nif(key==='gender'&&(value===null||value==='null'||value==='')){// Do not append gender field\nreturn;}if(typeof value==='string'||value instanceof Blob){formData.append(key,value);}else{formData.append(key,String(value));}}});await fetch(\"\".concat(API_URL,\"/api/dogs/\").concat(updatedDog._id),{method:'PATCH',body:formData,credentials:'include'});setEditDog(null);setLoading(true);fetch(\"\".concat(API_URL,\"/api/dogs\")).then(res=>res.json()).then(data=>{setDogs(Array.isArray(data)?data:[]);setLoading(false);});};const handleRemoveConfirm=async()=>{if(!removeDog)return;const headers={};// Get token from context or fallback to localStorage\nconst authToken=token||localStorage.getItem('token');if(authToken){headers['Authorization']=\"Bearer \".concat(authToken);}console.log('[DELETE DEBUG] Deleting dog:',removeDog._id,'with token:',authToken?'present':'missing');try{const resp=await fetch(\"\".concat(API_URL,\"/api/dogs/\").concat(removeDog._id),{method:'DELETE',headers});const data=await resp.json();console.log('[DELETE DEBUG] Response status:',resp.status,'data:',data);if(!resp.ok){console.error('[DELETE DEBUG] Failed to delete dog:',data);setRemoveDog(null);return;}setRemoveDog(null);setLoading(true);fetch(\"\".concat(API_URL,\"/api/dogs\")).then(res=>res.json()).then(data=>{setDogs(Array.isArray(data)?data:[]);setLoading(false);});}catch(err){console.error('[DELETE DEBUG] Fetch error:',err);setRemoveDog(null);}};if(loading)return/*#__PURE__*/_jsx(\"div\",{children:t('doglist.loading')||'Loading dogs...'});if(error)return/*#__PURE__*/_jsx(\"div\",{style:{color:'red'},children:error});return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{style:{padding:'0 16px',paddingTop:'70px',maxWidth:'1200px',width:'100%',margin:'0 auto'},children:/*#__PURE__*/_jsx(Search,{searchTerm:searchTerm,onSearchChange:setSearchTerm,genderFilter:genderFilter,onGenderChange:setGenderFilter,sizeFilter:sizeFilter,onSizeChange:setSizeFilter,locationFilter:locationFilter,onLocationChange:setLocationFilter,availableLocations:availableLocations})}),/*#__PURE__*/_jsx(\"main\",{style:{display:isDesktop?'flex':'block',flexDirection:isDesktop?'row':undefined,alignItems:isDesktop?'flex-start':undefined,justifyContent:isDesktop?'center':undefined,gap:isDesktop?32:undefined,position:'relative',margin:isDesktop?'32px 0 32px 32px':undefined,marginTop:isDesktop?'32px':undefined,paddingTop:isDesktop?'16px':'16px',overflowY:'auto',WebkitOverflowScrolling:isDesktop?undefined:'touch'},children:filteredDogs.length===0?/*#__PURE__*/_jsx(\"div\",{children:t('doglist.empty')||'No dogs found.'}):/*#__PURE__*/_jsx(\"div\",{style:{display:isDesktop?'flex':'block',flexDirection:isDesktop?'row':undefined,gap:isDesktop?16:undefined,flexWrap:isDesktop?'wrap':undefined,alignItems:isDesktop?'flex-start':undefined,width:isDesktop?undefined:'100%'},children:filteredDogs.map(dog=>{// Deduplicate images by base name before passing to CardSmall\nconst getImageBase=url=>{let cleanUrl=url.split('?')[0];const filename=cleanUrl.substring(cleanUrl.lastIndexOf('/')+1);const base=filename.replace(/(-\\d{3,}(?:-[a-z0-9]+)?-(?:320|640|1024|orig))?(-(?:320|640|1024|orig))?(\\.(jpg|jpeg|png|webp))$/i,'').replace(/(-(?:320|640|1024|orig))?(\\.(jpg|jpeg|png|webp))$/i,'').replace(/(\\.(jpg|jpeg|png|webp))$/i,'');return base;};let dedupedImages=dog.images;if(Array.isArray(dog.images)){dedupedImages=dog.images.filter((img,idx,arr)=>{if(!img||!img.url)return false;const base=getImageBase(img.url);return arr.findIndex(other=>other&&other.url&&getImageBase(other.url)===base)===idx;});}return/*#__PURE__*/_jsx(\"div\",{style:isDesktop?{background:'#fafbfc',borderRadius:16,boxShadow:'0 2px 16px rgba(0,0,0,0.06)',padding:16,display:'block',minWidth:280,maxWidth:400,width:'auto',verticalAlign:'top'}:{},children:/*#__PURE__*/_jsx(CardSmall,_objectSpread(_objectSpread({},dog),{},{images:dedupedImages,canEdit:true,onEdit:()=>handleEdit(dog),onRemove:()=>handleRemove(dog),onViewDetails:e=>{// Always close any open modals before opening new details\nsetEditDog(null);setDetailsDog(null);setMapDog(null);if(e&&Object.keys(e).length===0){// Location click - open map only\nopenMapForDog(dog);}else{handleDetails(dog);}}}))},dog._id);})})}),editDog&&/*#__PURE__*/_jsx(EditDogModal,{dog:editDog,onSave:handleEditSave,onClose:()=>setEditDog(null)},editDog._id||Math.random()),removeDog&&/*#__PURE__*/_jsx(RemoveDogModal,{dog:removeDog,onConfirm:handleRemoveConfirm,onClose:()=>setRemoveDog(null)}),detailsDog&&(isDesktop?/*#__PURE__*/_jsx(\"div\",{style:{position:'fixed',top:0,left:0,width:'100vw',height:'100vh',background:'rgba(0,0,0,0.5)',zIndex:2147483647,display:'flex',alignItems:'center',justifyContent:'center'},children:/*#__PURE__*/_jsxs(\"div\",{style:{background:'#fff',borderRadius:16,maxWidth:700,width:'95vw',maxHeight:'95vh',overflow:'auto',position:'relative',padding:24},children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setDetailsDog(null),style:{position:'absolute',top:12,right:12,width:22,height:22,background:'#e74c3c',border:'none',borderRadius:'50%',display:'flex',alignItems:'center',justifyContent:'center',padding:0,cursor:'pointer',zIndex:2,boxShadow:'0 2px 8px rgba(231,76,60,0.10)'},\"aria-label\":\"Close\",title:\"Close\",children:/*#__PURE__*/_jsx(\"span\",{style:{color:'#fff',fontSize:'2rem',fontWeight:900,lineHeight:1,display:'flex',alignItems:'center',justifyContent:'center',width:'100%',height:'100%'},children:\"\\xD7\"})}),/*#__PURE__*/_jsx(DogDetails,_objectSpread(_objectSpread({},detailsDog),{},{gender:detailsDog.gender==='male'||detailsDog.gender==='female'?detailsDog.gender:undefined,user:detailsDog.user||null,place:detailsDog.place,location:detailsDog.location||detailsDog.place,onClose:()=>setDetailsDog(null)}))]})}):/*#__PURE__*/_jsx(\"div\",{style:{position:'fixed',top:0,left:0,width:'100vw',height:'100vh',background:'rgba(0,0,0,0.5)',zIndex:2147483647,display:'flex',alignItems:'center',justifyContent:'center'},children:/*#__PURE__*/_jsxs(\"div\",{style:{background:'#fff',borderRadius:16,maxWidth:700,width:'95vw',maxHeight:'95vh',overflow:'auto',position:'relative',padding:24},children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setDetailsDog(null),style:{position:'absolute',top:12,right:12,width:40,height:40,background:'#e74c3c',color:'#fff',border:'none',borderRadius:'50%',fontSize:'1.5rem',fontWeight:'bold',cursor:'pointer',zIndex:2},\"aria-label\":\"Close\",title:\"Close\",children:\"\\xD7\"}),/*#__PURE__*/_jsx(DogDetails,_objectSpread(_objectSpread({},detailsDog),{},{gender:detailsDog.gender==='male'||detailsDog.gender==='female'?detailsDog.gender:undefined,user:detailsDog.user||null,place:detailsDog.place,location:detailsDog.location||detailsDog.place,onClose:()=>setDetailsDog(null)}))]})})),mapDog&&/*#__PURE__*/_jsx(\"div\",{style:{position:'fixed',top:0,left:0,width:'100vw',height:'100vh',background:'rgba(0,0,0,0.6)',zIndex:2147483647,display:'flex',alignItems:'center',justifyContent:'center'},onClick:e=>{if(e.target===e.currentTarget)setMapDog(null);},children:/*#__PURE__*/_jsxs(\"div\",{style:{background:'#fff',borderRadius:16,maxWidth:600,width:'95vw',maxHeight:'80vh',overflow:'auto',position:'relative',padding:24},children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setMapDog(null),style:{position:'absolute',top:12,right:12,width:36,height:36,background:'#e74c3c',color:'#fff',border:'none',borderRadius:'50%',fontSize:'1.5rem',fontWeight:'bold',cursor:'pointer',zIndex:2},\"aria-label\":\"Close\",title:\"Close\",children:\"\\xD7\"}),/*#__PURE__*/_jsxs(\"h3\",{style:{marginTop:0,marginBottom:16},children:[\"\\uD83D\\uDCCD \",mapDog.name,\" - \",mapDog.location]}),mapLoading&&/*#__PURE__*/_jsx(\"div\",{style:{textAlign:'center',padding:20},children:t('dogDetails.loadingMap','Loading map...')}),mapError&&/*#__PURE__*/_jsx(\"div\",{style:{textAlign:'center',padding:20,color:'#e74c3c'},children:mapError}),mapCoords&&!mapLoading&&/*#__PURE__*/_jsx(\"iframe\",{title:\"Dog Location Map\",width:\"100%\",height:\"350\",style:{border:0,borderRadius:8},loading:\"lazy\",allowFullScreen:true,src:\"https://www.openstreetmap.org/export/embed.html?bbox=\".concat(mapCoords.lng-0.02,\"%2C\").concat(mapCoords.lat-0.02,\"%2C\").concat(mapCoords.lng+0.02,\"%2C\").concat(mapCoords.lat+0.02,\"&layer=mapnik&marker=\").concat(mapCoords.lat,\"%2C\").concat(mapCoords.lng)}),!mapCoords&&!mapLoading&&!mapError&&/*#__PURE__*/_jsx(\"div\",{style:{textAlign:'center',padding:20,color:'#888'},children:t('dogDetails.noLocationData','No location data available')})]})})]});}export default DogList;","map":{"version":3,"names":["React","useState","useEffect","useMemo","useTranslation","CardSmall","EditDogModal","RemoveDogModal","DogDetails","useAuth","Search","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","API_URL","process","env","REACT_APP_API_URL","DogList","t","token","dogs","setDogs","editDog","setEditDog","removeDog","setRemoveDog","detailsDog","setDetailsDog","mapDog","setMapDog","mapCoords","setMapCoords","mapLoading","setMapLoading","mapError","setMapError","loading","setLoading","error","setError","searchTerm","setSearchTerm","genderFilter","setGenderFilter","sizeFilter","setSizeFilter","locationFilter","setLocationFilter","availableLocations","locations","map","dog","place","location","filter","loc","Array","from","Set","sort","filteredDogs","term","toLowerCase","matchesSearch","name","includes","breed","matchesGender","gender","matchesSize","size","dogLocation","matchesLocation","openMapForDog","query","trim","split","length","resp","fetch","concat","encodeURIComponent","data","json","lat","parseFloat","lng","lon","e","then","res","isArray","catch","err","isDesktop","window","innerWidth","handleEdit","handleRemove","handleDetails","handleEditSave","updatedDog","formData","FormData","Object","entries","forEach","_ref","key","value","file","append","undefined","Blob","String","_id","method","body","credentials","handleRemoveConfirm","headers","authToken","localStorage","getItem","console","log","status","ok","children","style","color","padding","paddingTop","maxWidth","width","margin","onSearchChange","onGenderChange","onSizeChange","onLocationChange","display","flexDirection","alignItems","justifyContent","gap","position","marginTop","overflowY","WebkitOverflowScrolling","flexWrap","getImageBase","url","cleanUrl","filename","substring","lastIndexOf","base","replace","dedupedImages","images","img","idx","arr","findIndex","other","background","borderRadius","boxShadow","minWidth","verticalAlign","_objectSpread","canEdit","onEdit","onRemove","onViewDetails","keys","onSave","onClose","Math","random","onConfirm","top","left","height","zIndex","maxHeight","overflow","onClick","right","border","cursor","title","fontSize","fontWeight","lineHeight","user","target","currentTarget","marginBottom","textAlign","allowFullScreen","src"],"sources":["/Applications/MAMP/htdocs/eky/client/src/components/pages/DogList.tsx"],"sourcesContent":["\n\n\n\nimport React, { useState, useEffect, useMemo } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport CardSmall from '../CardSmall';\nimport EditDogModal from './EditDogModal';\nimport RemoveDogModal from './RemoveDogModal';\nimport DogDetails from './DogDetails';\nimport type { DogDetailsProps } from './DogDetails';\nimport { useAuth } from '../../contexts/AuthContext';\nimport Search from '../Search';\nconst API_URL = process.env.REACT_APP_API_URL || '';\n\nfunction DogList() {\n\n\tconst { t } = useTranslation();\n\tconst { token } = useAuth();\n\tconst [dogs, setDogs] = useState<DogDetailsProps[]>([]);\n\tconst [editDog, setEditDog] = useState<DogDetailsProps | null>(null);\n\tconst [removeDog, setRemoveDog] = useState<DogDetailsProps | null>(null);\n\tconst [detailsDog, setDetailsDog] = useState<DogDetailsProps | null>(null);\n\tconst [mapDog, setMapDog] = useState<{ name: string; location: string } | null>(null);\n\tconst [mapCoords, setMapCoords] = useState<{ lat: number; lng: number } | null>(null);\n\tconst [mapLoading, setMapLoading] = useState(false);\n\tconst [mapError, setMapError] = useState<string | null>(null);\n\tconst [loading, setLoading] = useState(true);\n\tconst [error, setError] = useState<string | null>(null);\n\n\t// Search/filter state\n\tconst [searchTerm, setSearchTerm] = useState('');\n\tconst [genderFilter, setGenderFilter] = useState('');\n\tconst [sizeFilter, setSizeFilter] = useState('');\n\tconst [locationFilter, setLocationFilter] = useState('');\n\n\t// Get unique locations for filter dropdown\n\tconst availableLocations = useMemo(() => {\n\t\tconst locations = dogs\n\t\t\t.map(dog => dog.place || (dog as any).location)\n\t\t\t.filter((loc): loc is string => !!loc);\n\t\treturn Array.from(new Set(locations)).sort();\n\t}, [dogs]);\n\n\t// Filter dogs based on search/filters\n\tconst filteredDogs = useMemo(() => {\n\t\treturn dogs.filter(dog => {\n\t\t\t// Search term matches name or breed\n\t\t\tconst term = searchTerm.toLowerCase();\n\t\t\tconst matchesSearch = !term || \n\t\t\t\t(dog.name && dog.name.toLowerCase().includes(term)) ||\n\t\t\t\t(dog.breed && dog.breed.toLowerCase().includes(term));\n\t\t\t\n\t\t\t// Gender filter\n\t\t\tconst matchesGender = !genderFilter || dog.gender === genderFilter;\n\t\t\t\n\t\t\t// Size filter\n\t\t\tconst matchesSize = !sizeFilter || dog.size === sizeFilter;\n\t\t\t\n\t\t\t// Location filter\n\t\t\tconst dogLocation = dog.place || (dog as any).location;\n\t\t\tconst matchesLocation = !locationFilter || dogLocation === locationFilter;\n\t\t\t\n\t\t\treturn matchesSearch && matchesGender && matchesSize && matchesLocation;\n\t\t});\n\t}, [dogs, searchTerm, genderFilter, sizeFilter, locationFilter]);\n\n\t// Geocode location for map modal\n\tconst openMapForDog = async (dog: DogDetailsProps) => {\n\t\tconst location = dog.place || (dog as any).location;\n\t\tif (!location) return;\n\t\tsetMapDog({ name: dog.name, location });\n\t\tsetMapLoading(true);\n\t\tsetMapError(null);\n\t\tsetMapCoords(null);\n\t\ttry {\n\t\t\tlet query = location.trim();\n\t\t\tif (query.split(/\\s+/).length < 2) {\n\t\t\t\tquery += ', Croatia';\n\t\t\t}\n\t\t\tconst resp = await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(query)}&limit=1`);\n\t\t\tconst data = await resp.json();\n\t\t\tif (data && data.length > 0) {\n\t\t\t\tsetMapCoords({ lat: parseFloat(data[0].lat), lng: parseFloat(data[0].lon) });\n\t\t\t} else {\n\t\t\t\tsetMapError(t('dogDetails.locationNotFound', 'Location not found'));\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tsetMapError(t('dogDetails.locationSearchFailed', 'Location search failed'));\n\t\t} finally {\n\t\t\tsetMapLoading(false);\n\t\t}\n\t};\n\n\tuseEffect(() => {\n\t\tsetLoading(true);\n\t\tfetch(`${API_URL}/api/dogs`)\n\t\t\t.then(res => res.json())\n\t\t\t.then(data => {\n\t\t\t\tsetDogs(Array.isArray(data) ? data : []);\n\t\t\t\tsetLoading(false);\n\t\t\t})\n\t\t\t.catch(err => {\n\t\t\t\tsetError('Failed to load dogs');\n\t\t\t\tsetLoading(false);\n\t\t\t});\n\t}, []);\n\n\tconst isDesktop = typeof window !== 'undefined' && window.innerWidth >= 900;\n\tconst handleEdit = (dog: DogDetailsProps) => setEditDog(dog);\n\tconst handleRemove = (dog: DogDetailsProps) => setRemoveDog(dog);\n\tconst handleDetails = (dog: DogDetailsProps) => setDetailsDog(dog);\n\tconst handleEditSave = async (updatedDog: any) => {\n\t\t// Use FormData for PATCH with files\n\t\tconst formData = new FormData();\n\t\t// Append all fields except images\n\t\tObject.entries(updatedDog).forEach(([key, value]) => {\n\t\t\tif (key === 'images' && Array.isArray(value)) {\n\t\t\t\tvalue.forEach((file: File) => {\n\t\t\t\t\tformData.append('media', file);\n\t\t\t\t});\n\t\t\t} else if (value !== undefined && value !== null) {\n\t\t\t\t// Only append string or Blob/File, otherwise convert to string\n\t\t\t\t   // Special handling for gender: skip if null, 'null', or empty string\n\t\t\t\t   if (\n\t\t\t\t\t   key === 'gender' &&\n\t\t\t\t\t   (value === null || value === 'null' || value === '')\n\t\t\t\t   ) {\n\t\t\t\t\t   // Do not append gender field\n\t\t\t\t\t   return;\n\t\t\t\t   }\n\t\t\t\t   if (typeof value === 'string' || value instanceof Blob) {\n\t\t\t\t\t   formData.append(key, value);\n\t\t\t\t   } else {\n\t\t\t\t\t   formData.append(key, String(value));\n\t\t\t\t   }\n\t\t\t}\n\t\t});\n\t\tawait fetch(`${API_URL}/api/dogs/${updatedDog._id}`, {\n\t\t\tmethod: 'PATCH',\n\t\t\tbody: formData,\n\t\t\tcredentials: 'include',\n\t\t});\n\t\tsetEditDog(null);\n\t\tsetLoading(true);\n\t\tfetch(`${API_URL}/api/dogs`)\n\t\t\t.then(res => res.json())\n\t\t\t.then(data => {\n\t\t\t\tsetDogs(Array.isArray(data) ? data : []);\n\t\t\t\tsetLoading(false);\n\t\t\t});\n\t};\n\tconst handleRemoveConfirm = async () => {\n\t\tif (!removeDog) return;\n\t\tconst headers: Record<string, string> = {};\n\t\t// Get token from context or fallback to localStorage\n\t\tconst authToken = token || localStorage.getItem('token');\n\t\tif (authToken) {\n\t\t\theaders['Authorization'] = `Bearer ${authToken}`;\n\t\t}\n\t\tconsole.log('[DELETE DEBUG] Deleting dog:', removeDog._id, 'with token:', authToken ? 'present' : 'missing');\n\t\ttry {\n\t\t\tconst resp = await fetch(`${API_URL}/api/dogs/${removeDog._id}`, { \n\t\t\t\tmethod: 'DELETE',\n\t\t\t\theaders\n\t\t\t});\n\t\t\tconst data = await resp.json();\n\t\t\tconsole.log('[DELETE DEBUG] Response status:', resp.status, 'data:', data);\n\t\t\tif (!resp.ok) {\n\t\t\t\tconsole.error('[DELETE DEBUG] Failed to delete dog:', data);\n\t\t\t\tsetRemoveDog(null);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tsetRemoveDog(null);\n\t\t\tsetLoading(true);\n\t\t\tfetch(`${API_URL}/api/dogs`)\n\t\t\t\t.then(res => res.json())\n\t\t\t\t.then(data => {\n\t\t\t\t\tsetDogs(Array.isArray(data) ? data : []);\n\t\t\t\t\tsetLoading(false);\n\t\t\t\t});\n\t\t} catch (err) {\n\t\t\tconsole.error('[DELETE DEBUG] Fetch error:', err);\n\t\t\tsetRemoveDog(null);\n\t\t}\n\t};\n\n\tif (loading) return <div>{t('doglist.loading') || 'Loading dogs...'}</div>;\n\tif (error) return <div style={{ color: 'red' }}>{error}</div>;\n\n\treturn (\n\t\t<>\n\t\t\t{/* Search bar */}\n\t\t\t<div style={{ padding: '0 16px', paddingTop: '70px', maxWidth: '1200px', width: '100%', margin: '0 auto' }}>\n\t\t\t\t<Search\n\t\t\t\t\tsearchTerm={searchTerm}\n\t\t\t\t\tonSearchChange={setSearchTerm}\n\t\t\t\t\tgenderFilter={genderFilter}\n\t\t\t\t\tonGenderChange={setGenderFilter}\n\t\t\t\t\tsizeFilter={sizeFilter}\n\t\t\t\t\tonSizeChange={setSizeFilter}\n\t\t\t\t\tlocationFilter={locationFilter}\n\t\t\t\t\tonLocationChange={setLocationFilter}\n\t\t\t\t\tavailableLocations={availableLocations}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<main\n\t\t\t\tstyle={{\n\t\t\t\t\tdisplay: isDesktop ? 'flex' : 'block',\n\t\t\t\t\tflexDirection: isDesktop ? 'row' : undefined,\n\t\t\t\t\talignItems: isDesktop ? 'flex-start' : undefined,\n\t\t\t\t\tjustifyContent: isDesktop ? 'center' : undefined,\n\t\t\t\t\tgap: isDesktop ? 32 : undefined,\n\t\t\t\t\tposition: 'relative',\n\t\t\t\t\tmargin: isDesktop ? '32px 0 32px 32px' : undefined,\n\t\t\t\t\tmarginTop: isDesktop ? '32px' : undefined,\n\t\t\t\t\tpaddingTop: isDesktop ? '16px' : '16px',\n\t\t\t\t\toverflowY: 'auto',\n\t\t\t\t\tWebkitOverflowScrolling: isDesktop ? undefined : 'touch',\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t{filteredDogs.length === 0 ? (\n\t\t\t\t\t<div>{t('doglist.empty') || 'No dogs found.'}</div>\n\t\t\t\t) : (\n\t\t\t\t\t<div\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tdisplay: isDesktop ? 'flex' : 'block',\n\t\t\t\t\t\t\tflexDirection: isDesktop ? 'row' : undefined,\n\t\t\t\t\t\t\tgap: isDesktop ? 16 : undefined,\n\t\t\t\t\t\t\tflexWrap: isDesktop ? 'wrap' : undefined,\n\t\t\t\t\t\t\talignItems: isDesktop ? 'flex-start' : undefined,\n\t\t\t\t\t\t\twidth: isDesktop ? undefined : '100%',\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t{filteredDogs.map(dog => {\n\t\t\t\t\t\t\t// Deduplicate images by base name before passing to CardSmall\n\t\t\t\t\t\t\tconst getImageBase = (url: string) => {\n\t\t\t\t\t\t\t\tlet cleanUrl = url.split('?')[0];\n\t\t\t\t\t\t\t\tconst filename = cleanUrl.substring(cleanUrl.lastIndexOf('/') + 1);\n\t\t\t\t\t\t\t\tconst base = filename.replace(/(-\\d{3,}(?:-[a-z0-9]+)?-(?:320|640|1024|orig))?(-(?:320|640|1024|orig))?(\\.(jpg|jpeg|png|webp))$/i, '')\n\t\t\t\t\t\t\t\t\t.replace(/(-(?:320|640|1024|orig))?(\\.(jpg|jpeg|png|webp))$/i, '')\n\t\t\t\t\t\t\t\t\t.replace(/(\\.(jpg|jpeg|png|webp))$/i, '');\n\t\t\t\t\t\t\t\treturn base;\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tlet dedupedImages = dog.images;\n\t\t\t\t\t\t\tif (Array.isArray(dog.images)) {\n\t\t\t\t\t\t\t\tdedupedImages = dog.images.filter((img, idx, arr) => {\n\t\t\t\t\t\t\t\t\tif (!img || !img.url) return false;\n\t\t\t\t\t\t\t\t\tconst base = getImageBase(img.url);\n\t\t\t\t\t\t\t\t\treturn arr.findIndex(other => other && other.url && getImageBase(other.url) === base) === idx;\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tkey={dog._id}\n\t\t\t\t\t\t\t\t\tstyle={\n\t\t\t\t\t\t\t\t\t\tisDesktop\n\t\t\t\t\t\t\t\t\t\t\t? {\n\t\t\t\t\t\t\t\t\t\t\t\t\tbackground: '#fafbfc',\n\t\t\t\t\t\t\t\t\t\t\t\t\tborderRadius: 16,\n\t\t\t\t\t\t\t\t\t\t\t\t\tboxShadow: '0 2px 16px rgba(0,0,0,0.06)',\n\t\t\t\t\t\t\t\t\t\t\t\t\tpadding: 16,\n\t\t\t\t\t\t\t\t\t\t\t\t\tdisplay: 'block',\n\t\t\t\t\t\t\t\t\t\t\t\t\tminWidth: 280,\n\t\t\t\t\t\t\t\t\t\t\t\t\tmaxWidth: 400,\n\t\t\t\t\t\t\t\t\t\t\t\t\twidth: 'auto',\n\t\t\t\t\t\t\t\t\t\t\t\t\tverticalAlign: 'top',\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t: {}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<CardSmall\n\t\t\t\t\t\t\t\t\t\t{...dog}\n\t\t\t\t\t\t\t\t\t\timages={dedupedImages}\n\t\t\t\t\t\t\t\t\t\tcanEdit={true}\n\t\t\t\t\t\t\t\t\t\tonEdit={() => handleEdit(dog)}\n\t\t\t\t\t\t\t\t\t\tonRemove={() => handleRemove(dog)}\n\t\t\t\t\t\t\t\t\t\tonViewDetails={e => {\n\t\t\t\t\t\t\t\t\t\t\t// Always close any open modals before opening new details\n\t\t\t\t\t\t\t\t\t\t\tsetEditDog(null);\n\t\t\t\t\t\t\t\t\t\t\tsetDetailsDog(null);\n\t\t\t\t\t\t\t\t\t\t\tsetMapDog(null);\n\t\t\t\t\t\t\t\t\t\t\tif (e && Object.keys(e).length === 0) {\n\t\t\t\t\t\t\t\t\t\t\t\t// Location click - open map only\n\t\t\t\t\t\t\t\t\t\t\t\topenMapForDog(dog);\n\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\thandleDetails(dog);\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t})}\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t</main>\n\t\t\t{editDog && (\n\t\t\t\t<EditDogModal\n\t\t\t\t\tkey={editDog._id || Math.random()}\n\t\t\t\t\tdog={editDog}\n\t\t\t\t\tonSave={handleEditSave}\n\t\t\t\t\tonClose={() => setEditDog(null)}\n\t\t\t\t/>\n\t\t\t)}\n\t\t\t{removeDog && (\n\t\t\t\t<RemoveDogModal\n\t\t\t\t\tdog={removeDog}\n\t\t\t\t\tonConfirm={handleRemoveConfirm}\n\t\t\t\t\tonClose={() => setRemoveDog(null)}\n\t\t\t\t/>\n\t\t\t)}\n\t\t\t{/* Details panel on desktop, modal on mobile */}\n\t\t\t{detailsDog &&\n\t\t\t\t(isDesktop ? (\n\t\t\t\t\t<div\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tposition: 'fixed',\n\t\t\t\t\t\t\ttop: 0,\n\t\t\t\t\t\t\tleft: 0,\n\t\t\t\t\t\t\twidth: '100vw',\n\t\t\t\t\t\t\theight: '100vh',\n\t\t\t\t\t\t\tbackground: 'rgba(0,0,0,0.5)',\n\t\t\t\t\t\t\tzIndex: 2147483647,\n\t\t\t\t\t\t\tdisplay: 'flex',\n\t\t\t\t\t\t\talignItems: 'center',\n\t\t\t\t\t\t\tjustifyContent: 'center',\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\tbackground: '#fff',\n\t\t\t\t\t\t\t\tborderRadius: 16,\n\t\t\t\t\t\t\t\tmaxWidth: 700,\n\t\t\t\t\t\t\t\twidth: '95vw',\n\t\t\t\t\t\t\t\tmaxHeight: '95vh',\n\t\t\t\t\t\t\t\toverflow: 'auto',\n\t\t\t\t\t\t\t\tposition: 'relative',\n\t\t\t\t\t\t\t\tpadding: 24,\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tonClick={() => setDetailsDog(null)}\n\t\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\t\t\t\t\t\t\ttop: 12,\n\t\t\t\t\t\t\t\t\t\t\tright: 12,\n\t\t\t\t\t\t\t\t\t\t\twidth: 22,\n\t\t\t\t\t\t\t\t\t\t\theight: 22,\n\t\t\t\t\t\t\t\t\t\t\tbackground: '#e74c3c',\n\t\t\t\t\t\t\t\t\t\t\tborder: 'none',\n\t\t\t\t\t\t\t\t\t\t\tborderRadius: '50%',\n\t\t\t\t\t\t\t\t\t\t\tdisplay: 'flex',\n\t\t\t\t\t\t\t\t\t\t\talignItems: 'center',\n\t\t\t\t\t\t\t\t\t\t\tjustifyContent: 'center',\n\t\t\t\t\t\t\t\t\t\t\tpadding: 0,\n\t\t\t\t\t\t\t\t\t\t\tcursor: 'pointer',\n\t\t\t\t\t\t\t\t\t\t\tzIndex: 2,\n\t\t\t\t\t\t\t\t\t\t\tboxShadow: '0 2px 8px rgba(231,76,60,0.10)',\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\taria-label=\"Close\"\n\t\t\t\t\t\t\t\t\t\ttitle=\"Close\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<span style={{\n\t\t\t\t\t\t\t\t\t\t\tcolor: '#fff',\n\t\t\t\t\t\t\t\t\t\t\tfontSize: '2rem',\n\t\t\t\t\t\t\t\t\t\t\tfontWeight: 900,\n\t\t\t\t\t\t\t\t\t\t\tlineHeight: 1,\n\t\t\t\t\t\t\t\t\t\t\tdisplay: 'flex',\n\t\t\t\t\t\t\t\t\t\t\talignItems: 'center',\n\t\t\t\t\t\t\t\t\t\t\tjustifyContent: 'center',\n\t\t\t\t\t\t\t\t\t\t\twidth: '100%',\n\t\t\t\t\t\t\t\t\t\t\theight: '100%',\n\t\t\t\t\t\t\t\t\t\t}}>√ó</span>\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t<DogDetails\n\t\t\t\t\t\t\t\t{...detailsDog}\n\t\t\t\t\t\t\t\tgender={\n\t\t\t\t\t\t\t\t\tdetailsDog.gender === 'male' || detailsDog.gender === 'female'\n\t\t\t\t\t\t\t\t\t\t? detailsDog.gender\n\t\t\t\t\t\t\t\t\t\t: undefined\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tuser={detailsDog.user || null}\n\t\t\t\t\t\t\t\tplace={detailsDog.place}\n\t\t\t\t\t\t\t\tlocation={detailsDog.location || detailsDog.place}\n\t\t\t\t\t\t\t\tonClose={() => setDetailsDog(null)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t) : (\n\t\t\t\t\t<div\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tposition: 'fixed',\n\t\t\t\t\t\t\ttop: 0,\n\t\t\t\t\t\t\tleft: 0,\n\t\t\t\t\t\t\twidth: '100vw',\n\t\t\t\t\t\t\theight: '100vh',\n\t\t\t\t\t\t\tbackground: 'rgba(0,0,0,0.5)',\n\t\t\t\t\t\t\tzIndex: 2147483647,\n\t\t\t\t\t\t\tdisplay: 'flex',\n\t\t\t\t\t\t\talignItems: 'center',\n\t\t\t\t\t\t\tjustifyContent: 'center',\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\tbackground: '#fff',\n\t\t\t\t\t\t\t\tborderRadius: 16,\n\t\t\t\t\t\t\t\tmaxWidth: 700,\n\t\t\t\t\t\t\t\twidth: '95vw',\n\t\t\t\t\t\t\t\tmaxHeight: '95vh',\n\t\t\t\t\t\t\t\toverflow: 'auto',\n\t\t\t\t\t\t\t\tposition: 'relative',\n\t\t\t\t\t\t\t\tpadding: 24,\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tonClick={() => setDetailsDog(null)}\n\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\t\t\t\t\ttop: 12,\n\t\t\t\t\t\t\t\t\tright: 12,\n\t\t\t\t\t\t\t\t\twidth: 40,\n\t\t\t\t\t\t\t\t\theight: 40,\n\t\t\t\t\t\t\t\t\tbackground: '#e74c3c',\n\t\t\t\t\t\t\t\t\tcolor: '#fff',\n\t\t\t\t\t\t\t\t\tborder: 'none',\n\t\t\t\t\t\t\t\t\tborderRadius: '50%',\n\t\t\t\t\t\t\t\t\tfontSize: '1.5rem',\n\t\t\t\t\t\t\t\t\tfontWeight: 'bold',\n\t\t\t\t\t\t\t\t\tcursor: 'pointer',\n\t\t\t\t\t\t\t\t\tzIndex: 2,\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\taria-label=\"Close\"\n\t\t\t\t\t\t\t\ttitle=\"Close\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t√ó\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t<DogDetails\n\t\t\t\t\t\t\t\t{...detailsDog}\n\t\t\t\t\t\t\t\tgender={\n\t\t\t\t\t\t\t\t\tdetailsDog.gender === 'male' || detailsDog.gender === 'female'\n\t\t\t\t\t\t\t\t\t\t? detailsDog.gender\n\t\t\t\t\t\t\t\t\t\t: undefined\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tuser={detailsDog.user || null}\n\t\t\t\t\t\t\t\tplace={detailsDog.place}\n\t\t\t\t\t\t\t\tlocation={detailsDog.location || detailsDog.place}\n\t\t\t\t\t\t\t\tonClose={() => setDetailsDog(null)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t))}\n\t\t\t{/* Map-only modal */}\n\t\t\t{mapDog && (\n\t\t\t\t<div\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tposition: 'fixed',\n\t\t\t\t\t\ttop: 0,\n\t\t\t\t\t\tleft: 0,\n\t\t\t\t\t\twidth: '100vw',\n\t\t\t\t\t\theight: '100vh',\n\t\t\t\t\t\tbackground: 'rgba(0,0,0,0.6)',\n\t\t\t\t\t\tzIndex: 2147483647,\n\t\t\t\t\t\tdisplay: 'flex',\n\t\t\t\t\t\talignItems: 'center',\n\t\t\t\t\t\tjustifyContent: 'center',\n\t\t\t\t\t}}\n\t\t\t\t\tonClick={(e) => { if (e.target === e.currentTarget) setMapDog(null); }}\n\t\t\t\t>\n\t\t\t\t\t<div\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tbackground: '#fff',\n\t\t\t\t\t\t\tborderRadius: 16,\n\t\t\t\t\t\t\tmaxWidth: 600,\n\t\t\t\t\t\t\twidth: '95vw',\n\t\t\t\t\t\t\tmaxHeight: '80vh',\n\t\t\t\t\t\t\toverflow: 'auto',\n\t\t\t\t\t\t\tposition: 'relative',\n\t\t\t\t\t\t\tpadding: 24,\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tonClick={() => setMapDog(null)}\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\t\t\t\ttop: 12,\n\t\t\t\t\t\t\t\tright: 12,\n\t\t\t\t\t\t\t\twidth: 36,\n\t\t\t\t\t\t\t\theight: 36,\n\t\t\t\t\t\t\t\tbackground: '#e74c3c',\n\t\t\t\t\t\t\t\tcolor: '#fff',\n\t\t\t\t\t\t\t\tborder: 'none',\n\t\t\t\t\t\t\t\tborderRadius: '50%',\n\t\t\t\t\t\t\t\tfontSize: '1.5rem',\n\t\t\t\t\t\t\t\tfontWeight: 'bold',\n\t\t\t\t\t\t\t\tcursor: 'pointer',\n\t\t\t\t\t\t\t\tzIndex: 2,\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\taria-label=\"Close\"\n\t\t\t\t\t\t\ttitle=\"Close\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t√ó\n\t\t\t\t\t\t</button>\n\t\t\t\t\t\t<h3 style={{ marginTop: 0, marginBottom: 16 }}>\n\t\t\t\t\t\t\tüìç {mapDog.name} - {mapDog.location}\n\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t{mapLoading && <div style={{ textAlign: 'center', padding: 20 }}>{t('dogDetails.loadingMap', 'Loading map...')}</div>}\n\t\t\t\t\t\t{mapError && <div style={{ textAlign: 'center', padding: 20, color: '#e74c3c' }}>{mapError}</div>}\n\t\t\t\t\t\t{mapCoords && !mapLoading && (\n\t\t\t\t\t\t\t<iframe\n\t\t\t\t\t\t\t\ttitle=\"Dog Location Map\"\n\t\t\t\t\t\t\t\twidth=\"100%\"\n\t\t\t\t\t\t\t\theight=\"350\"\n\t\t\t\t\t\t\t\tstyle={{ border: 0, borderRadius: 8 }}\n\t\t\t\t\t\t\t\tloading=\"lazy\"\n\t\t\t\t\t\t\t\tallowFullScreen\n\t\t\t\t\t\t\t\tsrc={`https://www.openstreetmap.org/export/embed.html?bbox=${mapCoords.lng - 0.02}%2C${mapCoords.lat - 0.02}%2C${mapCoords.lng + 0.02}%2C${mapCoords.lat + 0.02}&layer=mapnik&marker=${mapCoords.lat}%2C${mapCoords.lng}`}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{!mapCoords && !mapLoading && !mapError && (\n\t\t\t\t\t\t\t<div style={{ textAlign: 'center', padding: 20, color: '#888' }}>\n\t\t\t\t\t\t\t\t{t('dogDetails.noLocationData', 'No location data available')}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</>\n\t);\n}\n\nexport default DogList;\n\n"],"mappings":"yHAIA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,CAAEC,OAAO,KAAQ,OAAO,CAC3D,OAASC,cAAc,KAAQ,eAAe,CAC9C,MAAO,CAAAC,SAAS,KAAM,cAAc,CACpC,MAAO,CAAAC,YAAY,KAAM,gBAAgB,CACzC,MAAO,CAAAC,cAAc,KAAM,kBAAkB,CAC7C,MAAO,CAAAC,UAAU,KAAM,cAAc,CAErC,OAASC,OAAO,KAAQ,4BAA4B,CACpD,MAAO,CAAAC,MAAM,KAAM,WAAW,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBAC/B,KAAM,CAAAC,OAAO,CAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB,EAAI,EAAE,CAEnD,QAAS,CAAAC,OAAOA,CAAA,CAAG,CAElB,KAAM,CAAEC,CAAE,CAAC,CAAGlB,cAAc,CAAC,CAAC,CAC9B,KAAM,CAAEmB,KAAM,CAAC,CAAGd,OAAO,CAAC,CAAC,CAC3B,KAAM,CAACe,IAAI,CAAEC,OAAO,CAAC,CAAGxB,QAAQ,CAAoB,EAAE,CAAC,CACvD,KAAM,CAACyB,OAAO,CAAEC,UAAU,CAAC,CAAG1B,QAAQ,CAAyB,IAAI,CAAC,CACpE,KAAM,CAAC2B,SAAS,CAAEC,YAAY,CAAC,CAAG5B,QAAQ,CAAyB,IAAI,CAAC,CACxE,KAAM,CAAC6B,UAAU,CAAEC,aAAa,CAAC,CAAG9B,QAAQ,CAAyB,IAAI,CAAC,CAC1E,KAAM,CAAC+B,MAAM,CAAEC,SAAS,CAAC,CAAGhC,QAAQ,CAA4C,IAAI,CAAC,CACrF,KAAM,CAACiC,SAAS,CAAEC,YAAY,CAAC,CAAGlC,QAAQ,CAAsC,IAAI,CAAC,CACrF,KAAM,CAACmC,UAAU,CAAEC,aAAa,CAAC,CAAGpC,QAAQ,CAAC,KAAK,CAAC,CACnD,KAAM,CAACqC,QAAQ,CAAEC,WAAW,CAAC,CAAGtC,QAAQ,CAAgB,IAAI,CAAC,CAC7D,KAAM,CAACuC,OAAO,CAAEC,UAAU,CAAC,CAAGxC,QAAQ,CAAC,IAAI,CAAC,CAC5C,KAAM,CAACyC,KAAK,CAAEC,QAAQ,CAAC,CAAG1C,QAAQ,CAAgB,IAAI,CAAC,CAEvD;AACA,KAAM,CAAC2C,UAAU,CAAEC,aAAa,CAAC,CAAG5C,QAAQ,CAAC,EAAE,CAAC,CAChD,KAAM,CAAC6C,YAAY,CAAEC,eAAe,CAAC,CAAG9C,QAAQ,CAAC,EAAE,CAAC,CACpD,KAAM,CAAC+C,UAAU,CAAEC,aAAa,CAAC,CAAGhD,QAAQ,CAAC,EAAE,CAAC,CAChD,KAAM,CAACiD,cAAc,CAAEC,iBAAiB,CAAC,CAAGlD,QAAQ,CAAC,EAAE,CAAC,CAExD;AACA,KAAM,CAAAmD,kBAAkB,CAAGjD,OAAO,CAAC,IAAM,CACxC,KAAM,CAAAkD,SAAS,CAAG7B,IAAI,CACpB8B,GAAG,CAACC,GAAG,EAAIA,GAAG,CAACC,KAAK,EAAKD,GAAG,CAASE,QAAQ,CAAC,CAC9CC,MAAM,CAAEC,GAAG,EAAoB,CAAC,CAACA,GAAG,CAAC,CACvC,MAAO,CAAAC,KAAK,CAACC,IAAI,CAAC,GAAI,CAAAC,GAAG,CAACT,SAAS,CAAC,CAAC,CAACU,IAAI,CAAC,CAAC,CAC7C,CAAC,CAAE,CAACvC,IAAI,CAAC,CAAC,CAEV;AACA,KAAM,CAAAwC,YAAY,CAAG7D,OAAO,CAAC,IAAM,CAClC,MAAO,CAAAqB,IAAI,CAACkC,MAAM,CAACH,GAAG,EAAI,CACzB;AACA,KAAM,CAAAU,IAAI,CAAGrB,UAAU,CAACsB,WAAW,CAAC,CAAC,CACrC,KAAM,CAAAC,aAAa,CAAG,CAACF,IAAI,EACzBV,GAAG,CAACa,IAAI,EAAIb,GAAG,CAACa,IAAI,CAACF,WAAW,CAAC,CAAC,CAACG,QAAQ,CAACJ,IAAI,CAAE,EAClDV,GAAG,CAACe,KAAK,EAAIf,GAAG,CAACe,KAAK,CAACJ,WAAW,CAAC,CAAC,CAACG,QAAQ,CAACJ,IAAI,CAAE,CAEtD;AACA,KAAM,CAAAM,aAAa,CAAG,CAACzB,YAAY,EAAIS,GAAG,CAACiB,MAAM,GAAK1B,YAAY,CAElE;AACA,KAAM,CAAA2B,WAAW,CAAG,CAACzB,UAAU,EAAIO,GAAG,CAACmB,IAAI,GAAK1B,UAAU,CAE1D;AACA,KAAM,CAAA2B,WAAW,CAAGpB,GAAG,CAACC,KAAK,EAAKD,GAAG,CAASE,QAAQ,CACtD,KAAM,CAAAmB,eAAe,CAAG,CAAC1B,cAAc,EAAIyB,WAAW,GAAKzB,cAAc,CAEzE,MAAO,CAAAiB,aAAa,EAAII,aAAa,EAAIE,WAAW,EAAIG,eAAe,CACxE,CAAC,CAAC,CACH,CAAC,CAAE,CAACpD,IAAI,CAAEoB,UAAU,CAAEE,YAAY,CAAEE,UAAU,CAAEE,cAAc,CAAC,CAAC,CAEhE;AACA,KAAM,CAAA2B,aAAa,CAAG,KAAO,CAAAtB,GAAoB,EAAK,CACrD,KAAM,CAAAE,QAAQ,CAAGF,GAAG,CAACC,KAAK,EAAKD,GAAG,CAASE,QAAQ,CACnD,GAAI,CAACA,QAAQ,CAAE,OACfxB,SAAS,CAAC,CAAEmC,IAAI,CAAEb,GAAG,CAACa,IAAI,CAAEX,QAAS,CAAC,CAAC,CACvCpB,aAAa,CAAC,IAAI,CAAC,CACnBE,WAAW,CAAC,IAAI,CAAC,CACjBJ,YAAY,CAAC,IAAI,CAAC,CAClB,GAAI,CACH,GAAI,CAAA2C,KAAK,CAAGrB,QAAQ,CAACsB,IAAI,CAAC,CAAC,CAC3B,GAAID,KAAK,CAACE,KAAK,CAAC,KAAK,CAAC,CAACC,MAAM,CAAG,CAAC,CAAE,CAClCH,KAAK,EAAI,WAAW,CACrB,CACA,KAAM,CAAAI,IAAI,CAAG,KAAM,CAAAC,KAAK,6DAAAC,MAAA,CAA6DC,kBAAkB,CAACP,KAAK,CAAC,YAAU,CAAC,CACzH,KAAM,CAAAQ,IAAI,CAAG,KAAM,CAAAJ,IAAI,CAACK,IAAI,CAAC,CAAC,CAC9B,GAAID,IAAI,EAAIA,IAAI,CAACL,MAAM,CAAG,CAAC,CAAE,CAC5B9C,YAAY,CAAC,CAAEqD,GAAG,CAAEC,UAAU,CAACH,IAAI,CAAC,CAAC,CAAC,CAACE,GAAG,CAAC,CAAEE,GAAG,CAAED,UAAU,CAACH,IAAI,CAAC,CAAC,CAAC,CAACK,GAAG,CAAE,CAAC,CAAC,CAC7E,CAAC,IAAM,CACNpD,WAAW,CAACjB,CAAC,CAAC,6BAA6B,CAAE,oBAAoB,CAAC,CAAC,CACpE,CACD,CAAE,MAAOsE,CAAC,CAAE,CACXrD,WAAW,CAACjB,CAAC,CAAC,iCAAiC,CAAE,wBAAwB,CAAC,CAAC,CAC5E,CAAC,OAAS,CACTe,aAAa,CAAC,KAAK,CAAC,CACrB,CACD,CAAC,CAEDnC,SAAS,CAAC,IAAM,CACfuC,UAAU,CAAC,IAAI,CAAC,CAChB0C,KAAK,IAAAC,MAAA,CAAInE,OAAO,aAAW,CAAC,CAC1B4E,IAAI,CAACC,GAAG,EAAIA,GAAG,CAACP,IAAI,CAAC,CAAC,CAAC,CACvBM,IAAI,CAACP,IAAI,EAAI,CACb7D,OAAO,CAACmC,KAAK,CAACmC,OAAO,CAACT,IAAI,CAAC,CAAGA,IAAI,CAAG,EAAE,CAAC,CACxC7C,UAAU,CAAC,KAAK,CAAC,CAClB,CAAC,CAAC,CACDuD,KAAK,CAACC,GAAG,EAAI,CACbtD,QAAQ,CAAC,qBAAqB,CAAC,CAC/BF,UAAU,CAAC,KAAK,CAAC,CAClB,CAAC,CAAC,CACJ,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAyD,SAAS,CAAG,MAAO,CAAAC,MAAM,GAAK,WAAW,EAAIA,MAAM,CAACC,UAAU,EAAI,GAAG,CAC3E,KAAM,CAAAC,UAAU,CAAI9C,GAAoB,EAAK5B,UAAU,CAAC4B,GAAG,CAAC,CAC5D,KAAM,CAAA+C,YAAY,CAAI/C,GAAoB,EAAK1B,YAAY,CAAC0B,GAAG,CAAC,CAChE,KAAM,CAAAgD,aAAa,CAAIhD,GAAoB,EAAKxB,aAAa,CAACwB,GAAG,CAAC,CAClE,KAAM,CAAAiD,cAAc,CAAG,KAAO,CAAAC,UAAe,EAAK,CACjD;AACA,KAAM,CAAAC,QAAQ,CAAG,GAAI,CAAAC,QAAQ,CAAC,CAAC,CAC/B;AACAC,MAAM,CAACC,OAAO,CAACJ,UAAU,CAAC,CAACK,OAAO,CAACC,IAAA,EAAkB,IAAjB,CAACC,GAAG,CAAEC,KAAK,CAAC,CAAAF,IAAA,CAC/C,GAAIC,GAAG,GAAK,QAAQ,EAAIpD,KAAK,CAACmC,OAAO,CAACkB,KAAK,CAAC,CAAE,CAC7CA,KAAK,CAACH,OAAO,CAAEI,IAAU,EAAK,CAC7BR,QAAQ,CAACS,MAAM,CAAC,OAAO,CAAED,IAAI,CAAC,CAC/B,CAAC,CAAC,CACH,CAAC,IAAM,IAAID,KAAK,GAAKG,SAAS,EAAIH,KAAK,GAAK,IAAI,CAAE,CACjD;AACG;AACA,GACCD,GAAG,GAAK,QAAQ,GACfC,KAAK,GAAK,IAAI,EAAIA,KAAK,GAAK,MAAM,EAAIA,KAAK,GAAK,EAAE,CAAC,CACnD,CACD;AACA,OACD,CACA,GAAI,MAAO,CAAAA,KAAK,GAAK,QAAQ,EAAIA,KAAK,WAAY,CAAAI,IAAI,CAAE,CACvDX,QAAQ,CAACS,MAAM,CAACH,GAAG,CAAEC,KAAK,CAAC,CAC5B,CAAC,IAAM,CACNP,QAAQ,CAACS,MAAM,CAACH,GAAG,CAAEM,MAAM,CAACL,KAAK,CAAC,CAAC,CACpC,CACJ,CACD,CAAC,CAAC,CACF,KAAM,CAAA9B,KAAK,IAAAC,MAAA,CAAInE,OAAO,eAAAmE,MAAA,CAAaqB,UAAU,CAACc,GAAG,EAAI,CACpDC,MAAM,CAAE,OAAO,CACfC,IAAI,CAAEf,QAAQ,CACdgB,WAAW,CAAE,SACd,CAAC,CAAC,CACF/F,UAAU,CAAC,IAAI,CAAC,CAChBc,UAAU,CAAC,IAAI,CAAC,CAChB0C,KAAK,IAAAC,MAAA,CAAInE,OAAO,aAAW,CAAC,CAC1B4E,IAAI,CAACC,GAAG,EAAIA,GAAG,CAACP,IAAI,CAAC,CAAC,CAAC,CACvBM,IAAI,CAACP,IAAI,EAAI,CACb7D,OAAO,CAACmC,KAAK,CAACmC,OAAO,CAACT,IAAI,CAAC,CAAGA,IAAI,CAAG,EAAE,CAAC,CACxC7C,UAAU,CAAC,KAAK,CAAC,CAClB,CAAC,CAAC,CACJ,CAAC,CACD,KAAM,CAAAkF,mBAAmB,CAAG,KAAAA,CAAA,GAAY,CACvC,GAAI,CAAC/F,SAAS,CAAE,OAChB,KAAM,CAAAgG,OAA+B,CAAG,CAAC,CAAC,CAC1C;AACA,KAAM,CAAAC,SAAS,CAAGtG,KAAK,EAAIuG,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CACxD,GAAIF,SAAS,CAAE,CACdD,OAAO,CAAC,eAAe,CAAC,WAAAxC,MAAA,CAAayC,SAAS,CAAE,CACjD,CACAG,OAAO,CAACC,GAAG,CAAC,8BAA8B,CAAErG,SAAS,CAAC2F,GAAG,CAAE,aAAa,CAAEM,SAAS,CAAG,SAAS,CAAG,SAAS,CAAC,CAC5G,GAAI,CACH,KAAM,CAAA3C,IAAI,CAAG,KAAM,CAAAC,KAAK,IAAAC,MAAA,CAAInE,OAAO,eAAAmE,MAAA,CAAaxD,SAAS,CAAC2F,GAAG,EAAI,CAChEC,MAAM,CAAE,QAAQ,CAChBI,OACD,CAAC,CAAC,CACF,KAAM,CAAAtC,IAAI,CAAG,KAAM,CAAAJ,IAAI,CAACK,IAAI,CAAC,CAAC,CAC9ByC,OAAO,CAACC,GAAG,CAAC,iCAAiC,CAAE/C,IAAI,CAACgD,MAAM,CAAE,OAAO,CAAE5C,IAAI,CAAC,CAC1E,GAAI,CAACJ,IAAI,CAACiD,EAAE,CAAE,CACbH,OAAO,CAACtF,KAAK,CAAC,sCAAsC,CAAE4C,IAAI,CAAC,CAC3DzD,YAAY,CAAC,IAAI,CAAC,CAClB,OACD,CACAA,YAAY,CAAC,IAAI,CAAC,CAClBY,UAAU,CAAC,IAAI,CAAC,CAChB0C,KAAK,IAAAC,MAAA,CAAInE,OAAO,aAAW,CAAC,CAC1B4E,IAAI,CAACC,GAAG,EAAIA,GAAG,CAACP,IAAI,CAAC,CAAC,CAAC,CACvBM,IAAI,CAACP,IAAI,EAAI,CACb7D,OAAO,CAACmC,KAAK,CAACmC,OAAO,CAACT,IAAI,CAAC,CAAGA,IAAI,CAAG,EAAE,CAAC,CACxC7C,UAAU,CAAC,KAAK,CAAC,CAClB,CAAC,CAAC,CACJ,CAAE,MAAOwD,GAAG,CAAE,CACb+B,OAAO,CAACtF,KAAK,CAAC,6BAA6B,CAAEuD,GAAG,CAAC,CACjDpE,YAAY,CAAC,IAAI,CAAC,CACnB,CACD,CAAC,CAED,GAAIW,OAAO,CAAE,mBAAO5B,IAAA,QAAAwH,QAAA,CAAM9G,CAAC,CAAC,iBAAiB,CAAC,EAAI,iBAAiB,CAAM,CAAC,CAC1E,GAAIoB,KAAK,CAAE,mBAAO9B,IAAA,QAAKyH,KAAK,CAAE,CAAEC,KAAK,CAAE,KAAM,CAAE,CAAAF,QAAA,CAAE1F,KAAK,CAAM,CAAC,CAE7D,mBACC5B,KAAA,CAAAE,SAAA,EAAAoH,QAAA,eAECxH,IAAA,QAAKyH,KAAK,CAAE,CAAEE,OAAO,CAAE,QAAQ,CAAEC,UAAU,CAAE,MAAM,CAAEC,QAAQ,CAAE,QAAQ,CAAEC,KAAK,CAAE,MAAM,CAAEC,MAAM,CAAE,QAAS,CAAE,CAAAP,QAAA,cAC1GxH,IAAA,CAACF,MAAM,EACNkC,UAAU,CAAEA,UAAW,CACvBgG,cAAc,CAAE/F,aAAc,CAC9BC,YAAY,CAAEA,YAAa,CAC3B+F,cAAc,CAAE9F,eAAgB,CAChCC,UAAU,CAAEA,UAAW,CACvB8F,YAAY,CAAE7F,aAAc,CAC5BC,cAAc,CAAEA,cAAe,CAC/B6F,gBAAgB,CAAE5F,iBAAkB,CACpCC,kBAAkB,CAAEA,kBAAmB,CACvC,CAAC,CACE,CAAC,cACNxC,IAAA,SACCyH,KAAK,CAAE,CACNW,OAAO,CAAE9C,SAAS,CAAG,MAAM,CAAG,OAAO,CACrC+C,aAAa,CAAE/C,SAAS,CAAG,KAAK,CAAGkB,SAAS,CAC5C8B,UAAU,CAAEhD,SAAS,CAAG,YAAY,CAAGkB,SAAS,CAChD+B,cAAc,CAAEjD,SAAS,CAAG,QAAQ,CAAGkB,SAAS,CAChDgC,GAAG,CAAElD,SAAS,CAAG,EAAE,CAAGkB,SAAS,CAC/BiC,QAAQ,CAAE,UAAU,CACpBV,MAAM,CAAEzC,SAAS,CAAG,kBAAkB,CAAGkB,SAAS,CAClDkC,SAAS,CAAEpD,SAAS,CAAG,MAAM,CAAGkB,SAAS,CACzCoB,UAAU,CAAEtC,SAAS,CAAG,MAAM,CAAG,MAAM,CACvCqD,SAAS,CAAE,MAAM,CACjBC,uBAAuB,CAAEtD,SAAS,CAAGkB,SAAS,CAAG,OAClD,CAAE,CAAAgB,QAAA,CAEDpE,YAAY,CAACiB,MAAM,GAAK,CAAC,cACzBrE,IAAA,QAAAwH,QAAA,CAAM9G,CAAC,CAAC,eAAe,CAAC,EAAI,gBAAgB,CAAM,CAAC,cAEnDV,IAAA,QACCyH,KAAK,CAAE,CACNW,OAAO,CAAE9C,SAAS,CAAG,MAAM,CAAG,OAAO,CACrC+C,aAAa,CAAE/C,SAAS,CAAG,KAAK,CAAGkB,SAAS,CAC5CgC,GAAG,CAAElD,SAAS,CAAG,EAAE,CAAGkB,SAAS,CAC/BqC,QAAQ,CAAEvD,SAAS,CAAG,MAAM,CAAGkB,SAAS,CACxC8B,UAAU,CAAEhD,SAAS,CAAG,YAAY,CAAGkB,SAAS,CAChDsB,KAAK,CAAExC,SAAS,CAAGkB,SAAS,CAAG,MAChC,CAAE,CAAAgB,QAAA,CAEDpE,YAAY,CAACV,GAAG,CAACC,GAAG,EAAI,CACxB;AACA,KAAM,CAAAmG,YAAY,CAAIC,GAAW,EAAK,CACrC,GAAI,CAAAC,QAAQ,CAAGD,GAAG,CAAC3E,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAChC,KAAM,CAAA6E,QAAQ,CAAGD,QAAQ,CAACE,SAAS,CAACF,QAAQ,CAACG,WAAW,CAAC,GAAG,CAAC,CAAG,CAAC,CAAC,CAClE,KAAM,CAAAC,IAAI,CAAGH,QAAQ,CAACI,OAAO,CAAC,mGAAmG,CAAE,EAAE,CAAC,CACpIA,OAAO,CAAC,oDAAoD,CAAE,EAAE,CAAC,CACjEA,OAAO,CAAC,2BAA2B,CAAE,EAAE,CAAC,CAC1C,MAAO,CAAAD,IAAI,CACZ,CAAC,CACD,GAAI,CAAAE,aAAa,CAAG3G,GAAG,CAAC4G,MAAM,CAC9B,GAAIvG,KAAK,CAACmC,OAAO,CAACxC,GAAG,CAAC4G,MAAM,CAAC,CAAE,CAC9BD,aAAa,CAAG3G,GAAG,CAAC4G,MAAM,CAACzG,MAAM,CAAC,CAAC0G,GAAG,CAAEC,GAAG,CAAEC,GAAG,GAAK,CACpD,GAAI,CAACF,GAAG,EAAI,CAACA,GAAG,CAACT,GAAG,CAAE,MAAO,MAAK,CAClC,KAAM,CAAAK,IAAI,CAAGN,YAAY,CAACU,GAAG,CAACT,GAAG,CAAC,CAClC,MAAO,CAAAW,GAAG,CAACC,SAAS,CAACC,KAAK,EAAIA,KAAK,EAAIA,KAAK,CAACb,GAAG,EAAID,YAAY,CAACc,KAAK,CAACb,GAAG,CAAC,GAAKK,IAAI,CAAC,GAAKK,GAAG,CAC9F,CAAC,CAAC,CACH,CACA,mBACCzJ,IAAA,QAECyH,KAAK,CACJnC,SAAS,CACN,CACAuE,UAAU,CAAE,SAAS,CACrBC,YAAY,CAAE,EAAE,CAChBC,SAAS,CAAE,6BAA6B,CACxCpC,OAAO,CAAE,EAAE,CACXS,OAAO,CAAE,OAAO,CAChB4B,QAAQ,CAAE,GAAG,CACbnC,QAAQ,CAAE,GAAG,CACbC,KAAK,CAAE,MAAM,CACbmC,aAAa,CAAE,KAChB,CAAC,CACA,CAAC,CACJ,CAAAzC,QAAA,cAEDxH,IAAA,CAACP,SAAS,CAAAyK,aAAA,CAAAA,aAAA,IACLvH,GAAG,MACP4G,MAAM,CAAED,aAAc,CACtBa,OAAO,CAAE,IAAK,CACdC,MAAM,CAAEA,CAAA,GAAM3E,UAAU,CAAC9C,GAAG,CAAE,CAC9B0H,QAAQ,CAAEA,CAAA,GAAM3E,YAAY,CAAC/C,GAAG,CAAE,CAClC2H,aAAa,CAAEtF,CAAC,EAAI,CACnB;AACAjE,UAAU,CAAC,IAAI,CAAC,CAChBI,aAAa,CAAC,IAAI,CAAC,CACnBE,SAAS,CAAC,IAAI,CAAC,CACf,GAAI2D,CAAC,EAAIgB,MAAM,CAACuE,IAAI,CAACvF,CAAC,CAAC,CAACX,MAAM,GAAK,CAAC,CAAE,CACrC;AACAJ,aAAa,CAACtB,GAAG,CAAC,CACnB,CAAC,IAAM,CACNgD,aAAa,CAAChD,GAAG,CAAC,CACnB,CACD,CAAE,EACF,CAAC,EAnCGA,GAAG,CAACgE,GAoCL,CAAC,CAER,CAAC,CAAC,CACE,CACL,CACI,CAAC,CACN7F,OAAO,eACPd,IAAA,CAACN,YAAY,EAEZiD,GAAG,CAAE7B,OAAQ,CACb0J,MAAM,CAAE5E,cAAe,CACvB6E,OAAO,CAAEA,CAAA,GAAM1J,UAAU,CAAC,IAAI,CAAE,EAH3BD,OAAO,CAAC6F,GAAG,EAAI+D,IAAI,CAACC,MAAM,CAAC,CAIhC,CACD,CACA3J,SAAS,eACThB,IAAA,CAACL,cAAc,EACdgD,GAAG,CAAE3B,SAAU,CACf4J,SAAS,CAAE7D,mBAAoB,CAC/B0D,OAAO,CAAEA,CAAA,GAAMxJ,YAAY,CAAC,IAAI,CAAE,CAClC,CACD,CAEAC,UAAU,GACToE,SAAS,cACTtF,IAAA,QACCyH,KAAK,CAAE,CACNgB,QAAQ,CAAE,OAAO,CACjBoC,GAAG,CAAE,CAAC,CACNC,IAAI,CAAE,CAAC,CACPhD,KAAK,CAAE,OAAO,CACdiD,MAAM,CAAE,OAAO,CACflB,UAAU,CAAE,iBAAiB,CAC7BmB,MAAM,CAAE,UAAU,CAClB5C,OAAO,CAAE,MAAM,CACfE,UAAU,CAAE,QAAQ,CACpBC,cAAc,CAAE,QACjB,CAAE,CAAAf,QAAA,cAEFtH,KAAA,QACCuH,KAAK,CAAE,CACNoC,UAAU,CAAE,MAAM,CAClBC,YAAY,CAAE,EAAE,CAChBjC,QAAQ,CAAE,GAAG,CACbC,KAAK,CAAE,MAAM,CACbmD,SAAS,CAAE,MAAM,CACjBC,QAAQ,CAAE,MAAM,CAChBzC,QAAQ,CAAE,UAAU,CACpBd,OAAO,CAAE,EACV,CAAE,CAAAH,QAAA,eAEAxH,IAAA,WACCmL,OAAO,CAAEA,CAAA,GAAMhK,aAAa,CAAC,IAAI,CAAE,CACnCsG,KAAK,CAAE,CACNgB,QAAQ,CAAE,UAAU,CACpBoC,GAAG,CAAE,EAAE,CACPO,KAAK,CAAE,EAAE,CACTtD,KAAK,CAAE,EAAE,CACTiD,MAAM,CAAE,EAAE,CACVlB,UAAU,CAAE,SAAS,CACrBwB,MAAM,CAAE,MAAM,CACdvB,YAAY,CAAE,KAAK,CACnB1B,OAAO,CAAE,MAAM,CACfE,UAAU,CAAE,QAAQ,CACpBC,cAAc,CAAE,QAAQ,CACxBZ,OAAO,CAAE,CAAC,CACV2D,MAAM,CAAE,SAAS,CACjBN,MAAM,CAAE,CAAC,CACTjB,SAAS,CAAE,gCACZ,CAAE,CACF,aAAW,OAAO,CAClBwB,KAAK,CAAC,OAAO,CAAA/D,QAAA,cAEbxH,IAAA,SAAMyH,KAAK,CAAE,CACZC,KAAK,CAAE,MAAM,CACb8D,QAAQ,CAAE,MAAM,CAChBC,UAAU,CAAE,GAAG,CACfC,UAAU,CAAE,CAAC,CACbtD,OAAO,CAAE,MAAM,CACfE,UAAU,CAAE,QAAQ,CACpBC,cAAc,CAAE,QAAQ,CACxBT,KAAK,CAAE,MAAM,CACbiD,MAAM,CAAE,MACT,CAAE,CAAAvD,QAAA,CAAC,MAAC,CAAM,CAAC,CACJ,CAAC,cACXxH,IAAA,CAACJ,UAAU,CAAAsK,aAAA,CAAAA,aAAA,IACNhJ,UAAU,MACd0C,MAAM,CACL1C,UAAU,CAAC0C,MAAM,GAAK,MAAM,EAAI1C,UAAU,CAAC0C,MAAM,GAAK,QAAQ,CAC3D1C,UAAU,CAAC0C,MAAM,CACjB4C,SACH,CACDmF,IAAI,CAAEzK,UAAU,CAACyK,IAAI,EAAI,IAAK,CAC9B/I,KAAK,CAAE1B,UAAU,CAAC0B,KAAM,CACxBC,QAAQ,CAAE3B,UAAU,CAAC2B,QAAQ,EAAI3B,UAAU,CAAC0B,KAAM,CAClD6H,OAAO,CAAEA,CAAA,GAAMtJ,aAAa,CAAC,IAAI,CAAE,EACnC,CAAC,EACE,CAAC,CACF,CAAC,cAENnB,IAAA,QACCyH,KAAK,CAAE,CACNgB,QAAQ,CAAE,OAAO,CACjBoC,GAAG,CAAE,CAAC,CACNC,IAAI,CAAE,CAAC,CACPhD,KAAK,CAAE,OAAO,CACdiD,MAAM,CAAE,OAAO,CACflB,UAAU,CAAE,iBAAiB,CAC7BmB,MAAM,CAAE,UAAU,CAClB5C,OAAO,CAAE,MAAM,CACfE,UAAU,CAAE,QAAQ,CACpBC,cAAc,CAAE,QACjB,CAAE,CAAAf,QAAA,cAEFtH,KAAA,QACCuH,KAAK,CAAE,CACNoC,UAAU,CAAE,MAAM,CAClBC,YAAY,CAAE,EAAE,CAChBjC,QAAQ,CAAE,GAAG,CACbC,KAAK,CAAE,MAAM,CACbmD,SAAS,CAAE,MAAM,CACjBC,QAAQ,CAAE,MAAM,CAChBzC,QAAQ,CAAE,UAAU,CACpBd,OAAO,CAAE,EACV,CAAE,CAAAH,QAAA,eAEFxH,IAAA,WACCmL,OAAO,CAAEA,CAAA,GAAMhK,aAAa,CAAC,IAAI,CAAE,CACnCsG,KAAK,CAAE,CACNgB,QAAQ,CAAE,UAAU,CACpBoC,GAAG,CAAE,EAAE,CACPO,KAAK,CAAE,EAAE,CACTtD,KAAK,CAAE,EAAE,CACTiD,MAAM,CAAE,EAAE,CACVlB,UAAU,CAAE,SAAS,CACrBnC,KAAK,CAAE,MAAM,CACb2D,MAAM,CAAE,MAAM,CACdvB,YAAY,CAAE,KAAK,CACnB0B,QAAQ,CAAE,QAAQ,CAClBC,UAAU,CAAE,MAAM,CAClBH,MAAM,CAAE,SAAS,CACjBN,MAAM,CAAE,CACT,CAAE,CACF,aAAW,OAAO,CAClBO,KAAK,CAAC,OAAO,CAAA/D,QAAA,CACb,MAED,CAAQ,CAAC,cACTxH,IAAA,CAACJ,UAAU,CAAAsK,aAAA,CAAAA,aAAA,IACNhJ,UAAU,MACd0C,MAAM,CACL1C,UAAU,CAAC0C,MAAM,GAAK,MAAM,EAAI1C,UAAU,CAAC0C,MAAM,GAAK,QAAQ,CAC3D1C,UAAU,CAAC0C,MAAM,CACjB4C,SACH,CACDmF,IAAI,CAAEzK,UAAU,CAACyK,IAAI,EAAI,IAAK,CAC9B/I,KAAK,CAAE1B,UAAU,CAAC0B,KAAM,CACxBC,QAAQ,CAAE3B,UAAU,CAAC2B,QAAQ,EAAI3B,UAAU,CAAC0B,KAAM,CAClD6H,OAAO,CAAEA,CAAA,GAAMtJ,aAAa,CAAC,IAAI,CAAE,EACnC,CAAC,EACE,CAAC,CACF,CACL,CAAC,CAEFC,MAAM,eACNpB,IAAA,QACCyH,KAAK,CAAE,CACNgB,QAAQ,CAAE,OAAO,CACjBoC,GAAG,CAAE,CAAC,CACNC,IAAI,CAAE,CAAC,CACPhD,KAAK,CAAE,OAAO,CACdiD,MAAM,CAAE,OAAO,CACflB,UAAU,CAAE,iBAAiB,CAC7BmB,MAAM,CAAE,UAAU,CAClB5C,OAAO,CAAE,MAAM,CACfE,UAAU,CAAE,QAAQ,CACpBC,cAAc,CAAE,QACjB,CAAE,CACF4C,OAAO,CAAGnG,CAAC,EAAK,CAAE,GAAIA,CAAC,CAAC4G,MAAM,GAAK5G,CAAC,CAAC6G,aAAa,CAAExK,SAAS,CAAC,IAAI,CAAC,CAAE,CAAE,CAAAmG,QAAA,cAEvEtH,KAAA,QACCuH,KAAK,CAAE,CACNoC,UAAU,CAAE,MAAM,CAClBC,YAAY,CAAE,EAAE,CAChBjC,QAAQ,CAAE,GAAG,CACbC,KAAK,CAAE,MAAM,CACbmD,SAAS,CAAE,MAAM,CACjBC,QAAQ,CAAE,MAAM,CAChBzC,QAAQ,CAAE,UAAU,CACpBd,OAAO,CAAE,EACV,CAAE,CAAAH,QAAA,eAEFxH,IAAA,WACCmL,OAAO,CAAEA,CAAA,GAAM9J,SAAS,CAAC,IAAI,CAAE,CAC/BoG,KAAK,CAAE,CACNgB,QAAQ,CAAE,UAAU,CACpBoC,GAAG,CAAE,EAAE,CACPO,KAAK,CAAE,EAAE,CACTtD,KAAK,CAAE,EAAE,CACTiD,MAAM,CAAE,EAAE,CACVlB,UAAU,CAAE,SAAS,CACrBnC,KAAK,CAAE,MAAM,CACb2D,MAAM,CAAE,MAAM,CACdvB,YAAY,CAAE,KAAK,CACnB0B,QAAQ,CAAE,QAAQ,CAClBC,UAAU,CAAE,MAAM,CAClBH,MAAM,CAAE,SAAS,CACjBN,MAAM,CAAE,CACT,CAAE,CACF,aAAW,OAAO,CAClBO,KAAK,CAAC,OAAO,CAAA/D,QAAA,CACb,MAED,CAAQ,CAAC,cACTtH,KAAA,OAAIuH,KAAK,CAAE,CAAEiB,SAAS,CAAE,CAAC,CAAEoD,YAAY,CAAE,EAAG,CAAE,CAAAtE,QAAA,EAAC,eAC3C,CAACpG,MAAM,CAACoC,IAAI,CAAC,KAAG,CAACpC,MAAM,CAACyB,QAAQ,EAChC,CAAC,CACJrB,UAAU,eAAIxB,IAAA,QAAKyH,KAAK,CAAE,CAAEsE,SAAS,CAAE,QAAQ,CAAEpE,OAAO,CAAE,EAAG,CAAE,CAAAH,QAAA,CAAE9G,CAAC,CAAC,uBAAuB,CAAE,gBAAgB,CAAC,CAAM,CAAC,CACpHgB,QAAQ,eAAI1B,IAAA,QAAKyH,KAAK,CAAE,CAAEsE,SAAS,CAAE,QAAQ,CAAEpE,OAAO,CAAE,EAAE,CAAED,KAAK,CAAE,SAAU,CAAE,CAAAF,QAAA,CAAE9F,QAAQ,CAAM,CAAC,CAChGJ,SAAS,EAAI,CAACE,UAAU,eACxBxB,IAAA,WACCuL,KAAK,CAAC,kBAAkB,CACxBzD,KAAK,CAAC,MAAM,CACZiD,MAAM,CAAC,KAAK,CACZtD,KAAK,CAAE,CAAE4D,MAAM,CAAE,CAAC,CAAEvB,YAAY,CAAE,CAAE,CAAE,CACtClI,OAAO,CAAC,MAAM,CACdoK,eAAe,MACfC,GAAG,yDAAAzH,MAAA,CAA0DlD,SAAS,CAACwD,GAAG,CAAG,IAAI,QAAAN,MAAA,CAAMlD,SAAS,CAACsD,GAAG,CAAG,IAAI,QAAAJ,MAAA,CAAMlD,SAAS,CAACwD,GAAG,CAAG,IAAI,QAAAN,MAAA,CAAMlD,SAAS,CAACsD,GAAG,CAAG,IAAI,0BAAAJ,MAAA,CAAwBlD,SAAS,CAACsD,GAAG,QAAAJ,MAAA,CAAMlD,SAAS,CAACwD,GAAG,CAAG,CAC1N,CACD,CACA,CAACxD,SAAS,EAAI,CAACE,UAAU,EAAI,CAACE,QAAQ,eACtC1B,IAAA,QAAKyH,KAAK,CAAE,CAAEsE,SAAS,CAAE,QAAQ,CAAEpE,OAAO,CAAE,EAAE,CAAED,KAAK,CAAE,MAAO,CAAE,CAAAF,QAAA,CAC9D9G,CAAC,CAAC,2BAA2B,CAAE,4BAA4B,CAAC,CACzD,CACL,EACG,CAAC,CACF,CACL,EACA,CAAC,CAEL,CAEA,cAAe,CAAAD,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}