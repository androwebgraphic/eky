{"ast":null,"code":"var _jsxFileName = \"/Applications/MAMP/htdocs/eky/client/src/components/pages/DogList.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useMemo } from 'react';\nimport ReactDOM from 'react-dom';\nimport { useTranslation } from 'react-i18next';\nimport CardSmall from '../CardSmall';\nimport EditDogModal from './EditDogModal';\nimport RemoveDogModal from './RemoveDogModal';\nimport DogDetails from './DogDetails';\nimport { useAuth } from '../../contexts/AuthContext';\nimport Search from '../Search';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst API_URL = process.env.REACT_APP_API_URL || '';\n\n// Portal containers for DogList modals\nconst detailsModalRoot = document.getElementById('doglist-details-root') || (() => {\n  const root = document.createElement('div');\n  root.id = 'doglist-details-root';\n  root.style.position = 'absolute';\n  root.style.top = '0';\n  root.style.left = '0';\n  root.style.zIndex = '0';\n  root.style.pointerEvents = 'none';\n  document.body.appendChild(root);\n  return root;\n})();\nconst mapModalRoot = document.getElementById('doglist-map-root') || (() => {\n  const root = document.createElement('div');\n  root.id = 'doglist-map-root';\n  root.style.position = 'absolute';\n  root.style.top = '0';\n  root.style.left = '0';\n  root.style.zIndex = '0';\n  root.style.pointerEvents = 'none';\n  document.body.appendChild(root);\n  return root;\n})();\nfunction DogList() {\n  _s();\n  const {\n    t\n  } = useTranslation();\n  const {\n    token,\n    user\n  } = useAuth();\n  const [dogs, setDogs] = useState([]);\n  const [editDog, setEditDog] = useState(null);\n  const [removeDog, setRemoveDog] = useState(null);\n  const [detailsDog, setDetailsDog] = useState(null);\n  const [mapDog, setMapDog] = useState(null);\n  const [mapCoords, setMapCoords] = useState(null);\n  const [mapLoading, setMapLoading] = useState(false);\n  const [mapError, setMapError] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  // Search/filter state\n  const [searchTerm, setSearchTerm] = useState('');\n  const [genderFilter, setGenderFilter] = useState('');\n  const [sizeFilter, setSizeFilter] = useState('');\n  const [locationFilter, setLocationFilter] = useState('');\n\n  // Get unique locations for filter dropdown\n  const availableLocations = useMemo(() => {\n    const locations = dogs.map(dog => dog.place || dog.location).filter(loc => !!loc);\n    return Array.from(new Set(locations)).sort();\n  }, [dogs]);\n\n  // Filter dogs based on search/filters\n  const filteredDogs = useMemo(() => {\n    return dogs.filter(dog => {\n      // Search term matches name or breed\n      const term = searchTerm.toLowerCase();\n      const matchesSearch = !term || dog.name && dog.name.toLowerCase().includes(term) || dog.breed && dog.breed.toLowerCase().includes(term);\n\n      // Gender filter\n      const matchesGender = !genderFilter || dog.gender === genderFilter;\n\n      // Size filter\n      const matchesSize = !sizeFilter || dog.size === sizeFilter;\n\n      // Location filter\n      const dogLocation = dog.place || dog.location;\n      const matchesLocation = !locationFilter || dogLocation === locationFilter;\n      return matchesSearch && matchesGender && matchesSize && matchesLocation;\n    });\n  }, [dogs, searchTerm, genderFilter, sizeFilter, locationFilter]);\n\n  // Geocode location for map modal\n  const openMapForDog = async dog => {\n    const location = dog.place || dog.location;\n    if (!location) return;\n    setMapDog({\n      name: dog.name,\n      location\n    });\n    setMapLoading(true);\n    setMapError(null);\n    setMapCoords(null);\n    try {\n      let query = location.trim();\n      if (query.split(/\\s+/).length < 2) {\n        query += ', Croatia';\n      }\n      const resp = await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(query)}&limit=1`);\n      const data = await resp.json();\n      if (data && data.length > 0) {\n        setMapCoords({\n          lat: parseFloat(data[0].lat),\n          lng: parseFloat(data[0].lon)\n        });\n      } else {\n        setMapError(t('dogDetails.locationNotFound', 'Location not found'));\n      }\n    } catch (e) {\n      setMapError(t('dogDetails.locationSearchFailed', 'Location search failed'));\n    } finally {\n      setMapLoading(false);\n    }\n  };\n  useEffect(() => {\n    const fetchDogs = () => {\n      setLoading(true);\n      fetch(`${API_URL}/api/dogs`).then(res => res.json()).then(data => {\n        setDogs(Array.isArray(data) ? data : []);\n        setLoading(false);\n      }).catch(err => {\n        setError('Failed to load dogs');\n        setLoading(false);\n      });\n    };\n    fetchDogs();\n\n    // Listen for dog update events (e.g., when adoption status changes)\n    const handleDogUpdated = () => {\n      console.log('[DogList] Dog updated, refreshing list...');\n      fetchDogs();\n    };\n    window.addEventListener('dogUpdated', handleDogUpdated);\n    return () => {\n      window.removeEventListener('dogUpdated', handleDogUpdated);\n    };\n  }, []);\n  const isDesktop = typeof window !== 'undefined' && window.innerWidth >= 900;\n  const handleEdit = dog => setEditDog(dog);\n  const handleRemove = dog => setRemoveDog(dog);\n  const handleDetails = dog => setDetailsDog(dog);\n  const handleEditSave = async updatedDog => {\n    // Use FormData for PATCH with files\n    const formData = new FormData();\n    // Append all fields except images\n    Object.entries(updatedDog).forEach(([key, value]) => {\n      if (key === 'images' && Array.isArray(value)) {\n        value.forEach(file => {\n          formData.append('media', file);\n        });\n      } else if (value !== undefined && value !== null) {\n        // Only append string or Blob/File, otherwise convert to string\n        // Special handling for gender: skip if null, 'null', or empty string\n        if (key === 'gender' && (value === null || value === 'null' || value === '')) {\n          // Do not append gender field\n          return;\n        }\n        if (typeof value === 'string' || value instanceof Blob) {\n          formData.append(key, value);\n        } else {\n          formData.append(key, String(value));\n        }\n      }\n    });\n    await fetch(`${API_URL}/api/dogs/${updatedDog._id}`, {\n      method: 'PATCH',\n      body: formData,\n      credentials: 'include'\n    });\n    setEditDog(null);\n    setLoading(true);\n    fetch(`${API_URL}/api/dogs`).then(res => res.json()).then(data => {\n      setDogs(Array.isArray(data) ? data : []);\n      setLoading(false);\n    });\n  };\n  const handleRemoveConfirm = async () => {\n    if (!removeDog) return;\n    const headers = {};\n    // Get token from context or fallback to localStorage\n    const authToken = token || localStorage.getItem('token');\n    if (authToken) {\n      headers['Authorization'] = `Bearer ${authToken}`;\n    }\n    console.log('[DELETE DEBUG] Deleting dog:', removeDog._id, 'with token:', authToken ? 'present' : 'missing');\n    try {\n      const resp = await fetch(`${API_URL}/api/dogs/${removeDog._id}`, {\n        method: 'DELETE',\n        headers\n      });\n      const data = await resp.json();\n      console.log('[DELETE DEBUG] Response status:', resp.status, 'data:', data);\n      if (!resp.ok) {\n        console.error('[DELETE DEBUG] Failed to delete dog:', data);\n        setRemoveDog(null);\n        return;\n      }\n      setRemoveDog(null);\n      setLoading(true);\n      fetch(`${API_URL}/api/dogs`).then(res => res.json()).then(data => {\n        setDogs(Array.isArray(data) ? data : []);\n        setLoading(false);\n      });\n    } catch (err) {\n      console.error('[DELETE DEBUG] Fetch error:', err);\n      setRemoveDog(null);\n    }\n  };\n  if (loading) return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: t('doglist.loading') || 'Loading dogs...'\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 230,\n    columnNumber: 22\n  }, this);\n  if (error) return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      color: 'red'\n    },\n    children: error\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 231,\n    columnNumber: 20\n  }, this);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        padding: '0 16px',\n        paddingTop: '70px',\n        maxWidth: '1200px',\n        width: '100%',\n        margin: '0 auto'\n      },\n      children: /*#__PURE__*/_jsxDEV(Search, {\n        searchTerm: searchTerm,\n        onSearchChange: setSearchTerm,\n        genderFilter: genderFilter,\n        onGenderChange: setGenderFilter,\n        sizeFilter: sizeFilter,\n        onSizeChange: setSizeFilter,\n        locationFilter: locationFilter,\n        onLocationChange: setLocationFilter,\n        availableLocations: availableLocations\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      style: {\n        display: isDesktop ? 'flex' : 'block',\n        flexDirection: isDesktop ? 'row' : undefined,\n        alignItems: isDesktop ? 'flex-start' : undefined,\n        justifyContent: isDesktop ? 'center' : undefined,\n        gap: isDesktop ? 32 : undefined,\n        position: 'relative',\n        margin: isDesktop ? '32px 0 32px 32px' : undefined,\n        marginTop: isDesktop ? '32px' : undefined,\n        paddingTop: isDesktop ? '16px' : '16px',\n        overflowY: 'auto',\n        WebkitOverflowScrolling: isDesktop ? undefined : 'touch'\n      },\n      children: filteredDogs.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        children: t('doglist.empty') || 'No dogs found.'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 265,\n        columnNumber: 6\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: isDesktop ? 'flex' : 'block',\n          flexDirection: isDesktop ? 'row' : undefined,\n          gap: isDesktop ? 16 : undefined,\n          flexWrap: isDesktop ? 'wrap' : undefined,\n          alignItems: isDesktop ? 'flex-start' : undefined,\n          width: isDesktop ? undefined : '100%'\n        },\n        children: filteredDogs.map(dog => {\n          // Deduplicate images by base name before passing to CardSmall\n          const getImageBase = url => {\n            let cleanUrl = url.split('?')[0];\n            const filename = cleanUrl.substring(cleanUrl.lastIndexOf('/') + 1);\n            const base = filename.replace(/(-\\d{3,}(?:-[a-z0-9]+)?-(?:320|640|1024|orig))?(-(?:320|640|1024|orig))?(\\.(jpg|jpeg|png|webp))$/i, '').replace(/(-(?:320|640|1024|orig))?(\\.(jpg|jpeg|png|webp))$/i, '').replace(/(\\.(jpg|jpeg|png|webp))$/i, '');\n            return base;\n          };\n          let dedupedImages = dog.images;\n          if (Array.isArray(dog.images)) {\n            dedupedImages = dog.images.filter((img, idx, arr) => {\n              if (!img || !img.url) return false;\n              const base = getImageBase(img.url);\n              return arr.findIndex(other => other && other.url && getImageBase(other.url) === base) === idx;\n            });\n          }\n          const isOwner = user && dog.user && (typeof dog.user === 'string' ? dog.user === user._id : dog.user._id === user._id);\n          const isSuperAdmin = (user === null || user === void 0 ? void 0 : user.role) === 'superadmin';\n          const canEdit = isOwner || isSuperAdmin;\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            style: isDesktop ? {\n              background: '#fafbfc',\n              borderRadius: 16,\n              boxShadow: '0 2px 16px rgba(0,0,0,0.06)',\n              padding: 16,\n              display: 'block',\n              minWidth: 280,\n              maxWidth: 400,\n              width: 'auto',\n              verticalAlign: 'top'\n            } : {},\n            children: /*#__PURE__*/_jsxDEV(CardSmall, {\n              ...dog,\n              images: dedupedImages,\n              canEdit: canEdit,\n              onEdit: () => handleEdit(dog),\n              onRemove: () => handleRemove(dog),\n              onViewDetails: e => {\n                // Always close any open modals before opening new details\n                setEditDog(null);\n                setDetailsDog(null);\n                setMapDog(null);\n                if (e && Object.keys(e).length === 0) {\n                  // Location click - open map only\n                  openMapForDog(dog);\n                } else {\n                  handleDetails(dog);\n                }\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 322,\n              columnNumber: 10\n            }, this)\n          }, dog._id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 304,\n            columnNumber: 9\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 6\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 249,\n      columnNumber: 4\n    }, this), editDog && /*#__PURE__*/_jsxDEV(EditDogModal, {\n      dog: editDog,\n      onSave: handleEditSave,\n      onClose: () => setEditDog(null)\n    }, editDog._id || Math.random(), false, {\n      fileName: _jsxFileName,\n      lineNumber: 348,\n      columnNumber: 5\n    }, this), removeDog && /*#__PURE__*/_jsxDEV(RemoveDogModal, {\n      dog: removeDog,\n      onConfirm: handleRemoveConfirm,\n      onClose: () => setRemoveDog(null)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 356,\n      columnNumber: 5\n    }, this), detailsDog && /*#__PURE__*/ReactDOM.createPortal(isDesktop ? /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: 'fixed',\n        top: '50%',\n        left: '50%',\n        transform: 'translate(-50%, -50%)',\n        width: '85vw',\n        maxWidth: '700px',\n        height: 'auto',\n        background: 'rgba(0,0,0,0.5)',\n        borderRadius: 12,\n        zIndex: 2147483647,\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        padding: 16,\n        pointerEvents: 'auto'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          background: '#fff',\n          borderRadius: 16,\n          maxWidth: 700,\n          width: '95vw',\n          maxHeight: '95vh',\n          overflow: 'auto',\n          position: 'relative',\n          padding: 24\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setDetailsDog(null),\n          style: {\n            position: 'absolute',\n            top: 12,\n            right: 12,\n            width: 22,\n            height: 22,\n            background: '#e74c3c',\n            border: 'none',\n            borderRadius: '50%',\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n            padding: 0,\n            cursor: 'pointer',\n            zIndex: 2,\n            boxShadow: '0 2px 8px rgba(231,76,60,0.10)'\n          },\n          \"aria-label\": \"Close\",\n          title: \"Close\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              color: '#fff',\n              fontSize: '2rem',\n              fontWeight: 900,\n              lineHeight: 1,\n              display: 'flex',\n              alignItems: 'center',\n              justifyContent: 'center',\n              width: '100%',\n              height: '100%'\n            },\n            children: \"\\xD7\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 418,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 396,\n          columnNumber: 10\n        }, this), /*#__PURE__*/_jsxDEV(DogDetails, {\n          ...detailsDog,\n          gender: detailsDog.gender === 'male' || detailsDog.gender === 'female' ? detailsDog.gender : undefined,\n          user: detailsDog.user || null,\n          place: detailsDog.place,\n          location: detailsDog.location || detailsDog.place,\n          onClose: () => setDetailsDog(null)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 430,\n          columnNumber: 8\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 384,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 365,\n      columnNumber: 6\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: 'fixed',\n        top: '10vh',\n        left: '50%',\n        transform: 'translateX(-50%)',\n        width: '95vw',\n        maxWidth: '700px',\n        height: '500px',\n        maxHeight: '500px',\n        background: 'rgba(0,0,0,0.5)',\n        borderRadius: 12,\n        zIndex: 2147483647,\n        display: 'flex',\n        alignItems: 'flex-start',\n        justifyContent: 'center',\n        padding: 8,\n        pointerEvents: 'auto',\n        overflowY: 'auto'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          background: '#fff',\n          borderRadius: 12,\n          maxWidth: 700,\n          width: '95vw',\n          height: '480px',\n          maxHeight: '480px',\n          overflow: 'auto',\n          overflowX: 'hidden',\n          position: 'relative',\n          padding: 16,\n          WebkitOverflowScrolling: 'touch'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setDetailsDog(null),\n          style: {\n            position: 'absolute',\n            top: 8,\n            right: 8,\n            width: 36,\n            height: 36,\n            background: '#e74c3c',\n            color: '#fff',\n            border: 'none',\n            borderRadius: '50%',\n            fontSize: '1.5rem',\n            fontWeight: 'bold',\n            cursor: 'pointer',\n            zIndex: 10000,\n            boxShadow: '0 4px 12px rgba(0,0,0,0.3)',\n            padding: 0,\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center'\n          },\n          \"aria-label\": \"Close\",\n          title: \"Close\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              fontSize: '1.8rem',\n              lineHeight: 1,\n              color: '#fff'\n            },\n            children: \"\\xD7\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 506,\n            columnNumber: 9\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 481,\n          columnNumber: 8\n        }, this), /*#__PURE__*/_jsxDEV(DogDetails, {\n          ...detailsDog,\n          gender: detailsDog.gender === 'male' || detailsDog.gender === 'female' ? detailsDog.gender : undefined,\n          user: detailsDog.user || null,\n          place: detailsDog.place,\n          location: detailsDog.location || detailsDog.place,\n          onClose: () => setDetailsDog(null)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 512,\n          columnNumber: 8\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 466,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 445,\n      columnNumber: 6\n    }, this), detailsModalRoot), mapDog && /*#__PURE__*/ReactDOM.createPortal(/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: 'fixed',\n        top: '50%',\n        left: '50%',\n        transform: 'translate(-50%, -50%)',\n        width: '85vw',\n        maxWidth: '600px',\n        height: 'auto',\n        background: 'rgba(0,0,0,0.6)',\n        borderRadius: 12,\n        zIndex: 2147483647,\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        padding: 16,\n        pointerEvents: 'auto'\n      },\n      onClick: e => {\n        if (e.target === e.currentTarget) setMapDog(null);\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          background: '#fff',\n          borderRadius: 16,\n          maxWidth: 600,\n          width: '95vw',\n          maxHeight: '80vh',\n          overflow: 'auto',\n          position: 'relative',\n          padding: 24\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setMapDog(null),\n          style: {\n            position: 'absolute',\n            top: 12,\n            right: 12,\n            width: 36,\n            height: 36,\n            background: '#e74c3c',\n            color: '#fff',\n            border: 'none',\n            borderRadius: '50%',\n            fontSize: '1.5rem',\n            fontWeight: 'bold',\n            cursor: 'pointer',\n            zIndex: 2\n          },\n          \"aria-label\": \"Close\",\n          title: \"Close\",\n          children: \"\\xD7\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 563,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          style: {\n            marginTop: 0,\n            marginBottom: 16\n          },\n          children: [\"\\uD83D\\uDCCD \", mapDog.name, \" - \", mapDog.location]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 585,\n          columnNumber: 7\n        }, this), mapLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            textAlign: 'center',\n            padding: 20\n          },\n          children: t('dogDetails.loadingMap', 'Loading map...')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 588,\n          columnNumber: 22\n        }, this), mapError && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            textAlign: 'center',\n            padding: 20,\n            color: '#e74c3c'\n          },\n          children: mapError\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 589,\n          columnNumber: 20\n        }, this), mapCoords && !mapLoading && /*#__PURE__*/_jsxDEV(\"iframe\", {\n          title: \"Dog Location Map\",\n          width: \"100%\",\n          height: \"350\",\n          style: {\n            border: 0,\n            borderRadius: 8\n          },\n          loading: \"lazy\",\n          allowFullScreen: true,\n          src: `https://www.openstreetmap.org/export/embed.html?bbox=${mapCoords.lng - 0.02}%2C${mapCoords.lat - 0.02}%2C${mapCoords.lng + 0.02}%2C${mapCoords.lat + 0.02}&layer=mapnik&marker=${mapCoords.lat}%2C${mapCoords.lng}`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 591,\n          columnNumber: 8\n        }, this), !mapCoords && !mapLoading && !mapError && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            textAlign: 'center',\n            padding: 20,\n            color: '#888'\n          },\n          children: t('dogDetails.noLocationData', 'No location data available')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 602,\n          columnNumber: 8\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 551,\n        columnNumber: 6\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 531,\n      columnNumber: 5\n    }, this), mapModalRoot)]\n  }, void 0, true);\n}\n_s(DogList, \"KpQmH7Sug652VtpaTy3zIlmQmQs=\", false, function () {\n  return [useTranslation, useAuth];\n});\n_c = DogList;\nexport default DogList;\nvar _c;\n$RefreshReg$(_c, \"DogList\");","map":{"version":3,"names":["React","useState","useEffect","useMemo","ReactDOM","useTranslation","CardSmall","EditDogModal","RemoveDogModal","DogDetails","useAuth","Search","jsxDEV","_jsxDEV","Fragment","_Fragment","API_URL","process","env","REACT_APP_API_URL","detailsModalRoot","document","getElementById","root","createElement","id","style","position","top","left","zIndex","pointerEvents","body","appendChild","mapModalRoot","DogList","_s","t","token","user","dogs","setDogs","editDog","setEditDog","removeDog","setRemoveDog","detailsDog","setDetailsDog","mapDog","setMapDog","mapCoords","setMapCoords","mapLoading","setMapLoading","mapError","setMapError","loading","setLoading","error","setError","searchTerm","setSearchTerm","genderFilter","setGenderFilter","sizeFilter","setSizeFilter","locationFilter","setLocationFilter","availableLocations","locations","map","dog","place","location","filter","loc","Array","from","Set","sort","filteredDogs","term","toLowerCase","matchesSearch","name","includes","breed","matchesGender","gender","matchesSize","size","dogLocation","matchesLocation","openMapForDog","query","trim","split","length","resp","fetch","encodeURIComponent","data","json","lat","parseFloat","lng","lon","e","fetchDogs","then","res","isArray","catch","err","handleDogUpdated","console","log","window","addEventListener","removeEventListener","isDesktop","innerWidth","handleEdit","handleRemove","handleDetails","handleEditSave","updatedDog","formData","FormData","Object","entries","forEach","key","value","file","append","undefined","Blob","String","_id","method","credentials","handleRemoveConfirm","headers","authToken","localStorage","getItem","status","ok","children","fileName","_jsxFileName","lineNumber","columnNumber","color","padding","paddingTop","maxWidth","width","margin","onSearchChange","onGenderChange","onSizeChange","onLocationChange","display","flexDirection","alignItems","justifyContent","gap","marginTop","overflowY","WebkitOverflowScrolling","flexWrap","getImageBase","url","cleanUrl","filename","substring","lastIndexOf","base","replace","dedupedImages","images","img","idx","arr","findIndex","other","isOwner","isSuperAdmin","role","canEdit","background","borderRadius","boxShadow","minWidth","verticalAlign","onEdit","onRemove","onViewDetails","keys","onSave","onClose","Math","random","onConfirm","createPortal","transform","height","maxHeight","overflow","onClick","right","border","cursor","title","fontSize","fontWeight","lineHeight","overflowX","target","currentTarget","marginBottom","textAlign","allowFullScreen","src","_c","$RefreshReg$"],"sources":["/Applications/MAMP/htdocs/eky/client/src/components/pages/DogList.tsx"],"sourcesContent":["\n\n\n\nimport React, { useState, useEffect, useMemo } from 'react';\nimport ReactDOM from 'react-dom';\nimport { useTranslation } from 'react-i18next';\nimport CardSmall from '../CardSmall';\nimport EditDogModal from './EditDogModal';\nimport RemoveDogModal from './RemoveDogModal';\nimport DogDetails from './DogDetails';\nimport type { DogDetailsProps } from './DogDetails';\nimport { useAuth } from '../../contexts/AuthContext';\nimport Search from '../Search';\nconst API_URL = process.env.REACT_APP_API_URL || '';\n\n// Portal containers for DogList modals\nconst detailsModalRoot = document.getElementById('doglist-details-root') || (() => {\n  const root = document.createElement('div');\n  root.id = 'doglist-details-root';\n  root.style.position = 'absolute';\n  root.style.top = '0';\n  root.style.left = '0';\n  root.style.zIndex = '0';\n  root.style.pointerEvents = 'none';\n  document.body.appendChild(root);\n  return root;\n})();\n\nconst mapModalRoot = document.getElementById('doglist-map-root') || (() => {\n  const root = document.createElement('div');\n  root.id = 'doglist-map-root';\n  root.style.position = 'absolute';\n  root.style.top = '0';\n  root.style.left = '0';\n  root.style.zIndex = '0';\n  root.style.pointerEvents = 'none';\n  document.body.appendChild(root);\n  return root;\n})();\n\nfunction DogList() {\n\n\tconst { t } = useTranslation();\n\tconst { token, user } = useAuth();\n\tconst [dogs, setDogs] = useState<DogDetailsProps[]>([]);\n\tconst [editDog, setEditDog] = useState<DogDetailsProps | null>(null);\n\tconst [removeDog, setRemoveDog] = useState<DogDetailsProps | null>(null);\n\tconst [detailsDog, setDetailsDog] = useState<DogDetailsProps | null>(null);\n\tconst [mapDog, setMapDog] = useState<{ name: string; location: string } | null>(null);\n\tconst [mapCoords, setMapCoords] = useState<{ lat: number; lng: number } | null>(null);\n\tconst [mapLoading, setMapLoading] = useState(false);\n\tconst [mapError, setMapError] = useState<string | null>(null);\n\tconst [loading, setLoading] = useState(true);\n\tconst [error, setError] = useState<string | null>(null);\n\n\t// Search/filter state\n\tconst [searchTerm, setSearchTerm] = useState('');\n\tconst [genderFilter, setGenderFilter] = useState('');\n\tconst [sizeFilter, setSizeFilter] = useState('');\n\tconst [locationFilter, setLocationFilter] = useState('');\n\n\t// Get unique locations for filter dropdown\n\tconst availableLocations = useMemo(() => {\n\t\tconst locations = dogs\n\t\t\t.map(dog => dog.place || (dog as any).location)\n\t\t\t.filter((loc): loc is string => !!loc);\n\t\treturn Array.from(new Set(locations)).sort();\n\t}, [dogs]);\n\n\t// Filter dogs based on search/filters\n\tconst filteredDogs = useMemo(() => {\n\t\treturn dogs.filter(dog => {\n\t\t\t// Search term matches name or breed\n\t\t\tconst term = searchTerm.toLowerCase();\n\t\t\tconst matchesSearch = !term || \n\t\t\t\t(dog.name && dog.name.toLowerCase().includes(term)) ||\n\t\t\t\t(dog.breed && dog.breed.toLowerCase().includes(term));\n\t\t\t\n\t\t\t// Gender filter\n\t\t\tconst matchesGender = !genderFilter || dog.gender === genderFilter;\n\t\t\t\n\t\t\t// Size filter\n\t\t\tconst matchesSize = !sizeFilter || dog.size === sizeFilter;\n\t\t\t\n\t\t\t// Location filter\n\t\t\tconst dogLocation = dog.place || (dog as any).location;\n\t\t\tconst matchesLocation = !locationFilter || dogLocation === locationFilter;\n\t\t\t\n\t\t\treturn matchesSearch && matchesGender && matchesSize && matchesLocation;\n\t\t});\n\t}, [dogs, searchTerm, genderFilter, sizeFilter, locationFilter]);\n\n\t// Geocode location for map modal\n\tconst openMapForDog = async (dog: DogDetailsProps) => {\n\t\tconst location = dog.place || (dog as any).location;\n\t\tif (!location) return;\n\t\tsetMapDog({ name: dog.name, location });\n\t\tsetMapLoading(true);\n\t\tsetMapError(null);\n\t\tsetMapCoords(null);\n\t\ttry {\n\t\t\tlet query = location.trim();\n\t\t\tif (query.split(/\\s+/).length < 2) {\n\t\t\t\tquery += ', Croatia';\n\t\t\t}\n\t\t\tconst resp = await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(query)}&limit=1`);\n\t\t\tconst data = await resp.json();\n\t\t\tif (data && data.length > 0) {\n\t\t\t\tsetMapCoords({ lat: parseFloat(data[0].lat), lng: parseFloat(data[0].lon) });\n\t\t\t} else {\n\t\t\t\tsetMapError(t('dogDetails.locationNotFound', 'Location not found'));\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tsetMapError(t('dogDetails.locationSearchFailed', 'Location search failed'));\n\t\t} finally {\n\t\t\tsetMapLoading(false);\n\t\t}\n\t};\n\n\tuseEffect(() => {\n\t\tconst fetchDogs = () => {\n\t\t\tsetLoading(true);\n\t\t\tfetch(`${API_URL}/api/dogs`)\n\t\t\t\t.then(res => res.json())\n\t\t\t\t.then(data => {\n\t\t\t\t\tsetDogs(Array.isArray(data) ? data : []);\n\t\t\t\t\tsetLoading(false);\n\t\t\t\t})\n\t\t\t\t.catch(err => {\n\t\t\t\t\tsetError('Failed to load dogs');\n\t\t\t\t\tsetLoading(false);\n\t\t\t\t});\n\t\t};\n\n\t\tfetchDogs();\n\n\t\t// Listen for dog update events (e.g., when adoption status changes)\n\t\tconst handleDogUpdated = () => {\n\t\t\tconsole.log('[DogList] Dog updated, refreshing list...');\n\t\t\tfetchDogs();\n\t\t};\n\n\t\twindow.addEventListener('dogUpdated', handleDogUpdated);\n\n\t\treturn () => {\n\t\t\twindow.removeEventListener('dogUpdated', handleDogUpdated);\n\t\t};\n\t}, []);\n\n\tconst isDesktop = typeof window !== 'undefined' && window.innerWidth >= 900;\n\tconst handleEdit = (dog: DogDetailsProps) => setEditDog(dog);\n\tconst handleRemove = (dog: DogDetailsProps) => setRemoveDog(dog);\n\tconst handleDetails = (dog: DogDetailsProps) => setDetailsDog(dog);\n\tconst handleEditSave = async (updatedDog: any) => {\n\t\t// Use FormData for PATCH with files\n\t\tconst formData = new FormData();\n\t\t// Append all fields except images\n\t\tObject.entries(updatedDog).forEach(([key, value]) => {\n\t\t\tif (key === 'images' && Array.isArray(value)) {\n\t\t\t\tvalue.forEach((file: File) => {\n\t\t\t\t\tformData.append('media', file);\n\t\t\t\t});\n\t\t\t} else if (value !== undefined && value !== null) {\n\t\t\t\t// Only append string or Blob/File, otherwise convert to string\n\t\t\t\t   // Special handling for gender: skip if null, 'null', or empty string\n\t\t\t\t   if (\n\t\t\t\t\t   key === 'gender' &&\n\t\t\t\t\t   (value === null || value === 'null' || value === '')\n\t\t\t\t   ) {\n\t\t\t\t\t   // Do not append gender field\n\t\t\t\t\t   return;\n\t\t\t\t   }\n\t\t\t\t   if (typeof value === 'string' || value instanceof Blob) {\n\t\t\t\t\t   formData.append(key, value);\n\t\t\t\t   } else {\n\t\t\t\t\t   formData.append(key, String(value));\n\t\t\t\t   }\n\t\t\t}\n\t\t});\n\t\tawait fetch(`${API_URL}/api/dogs/${updatedDog._id}`, {\n\t\t\tmethod: 'PATCH',\n\t\t\tbody: formData,\n\t\t\tcredentials: 'include',\n\t\t});\n\t\tsetEditDog(null);\n\t\tsetLoading(true);\n\t\tfetch(`${API_URL}/api/dogs`)\n\t\t\t.then(res => res.json())\n\t\t\t.then(data => {\n\t\t\t\tsetDogs(Array.isArray(data) ? data : []);\n\t\t\t\tsetLoading(false);\n\t\t\t});\n\t};\n\tconst handleRemoveConfirm = async () => {\n\t\tif (!removeDog) return;\n\t\tconst headers: Record<string, string> = {};\n\t\t// Get token from context or fallback to localStorage\n\t\tconst authToken = token || localStorage.getItem('token');\n\t\tif (authToken) {\n\t\t\theaders['Authorization'] = `Bearer ${authToken}`;\n\t\t}\n\t\tconsole.log('[DELETE DEBUG] Deleting dog:', removeDog._id, 'with token:', authToken ? 'present' : 'missing');\n\t\ttry {\n\t\t\tconst resp = await fetch(`${API_URL}/api/dogs/${removeDog._id}`, { \n\t\t\t\tmethod: 'DELETE',\n\t\t\t\theaders\n\t\t\t});\n\t\t\tconst data = await resp.json();\n\t\t\tconsole.log('[DELETE DEBUG] Response status:', resp.status, 'data:', data);\n\t\t\tif (!resp.ok) {\n\t\t\t\tconsole.error('[DELETE DEBUG] Failed to delete dog:', data);\n\t\t\t\tsetRemoveDog(null);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tsetRemoveDog(null);\n\t\t\tsetLoading(true);\n\t\t\tfetch(`${API_URL}/api/dogs`)\n\t\t\t\t.then(res => res.json())\n\t\t\t\t.then(data => {\n\t\t\t\t\tsetDogs(Array.isArray(data) ? data : []);\n\t\t\t\t\tsetLoading(false);\n\t\t\t\t});\n\t\t} catch (err) {\n\t\t\tconsole.error('[DELETE DEBUG] Fetch error:', err);\n\t\t\tsetRemoveDog(null);\n\t\t}\n\t};\n\n\tif (loading) return <div>{t('doglist.loading') || 'Loading dogs...'}</div>;\n\tif (error) return <div style={{ color: 'red' }}>{error}</div>;\n\n\treturn (\n\t\t<>\n\t\t\t{/* Search bar */}\n\t\t\t<div style={{ padding: '0 16px', paddingTop: '70px', maxWidth: '1200px', width: '100%', margin: '0 auto' }}>\n\t\t\t\t<Search\n\t\t\t\t\tsearchTerm={searchTerm}\n\t\t\t\t\tonSearchChange={setSearchTerm}\n\t\t\t\t\tgenderFilter={genderFilter}\n\t\t\t\t\tonGenderChange={setGenderFilter}\n\t\t\t\t\tsizeFilter={sizeFilter}\n\t\t\t\t\tonSizeChange={setSizeFilter}\n\t\t\t\t\tlocationFilter={locationFilter}\n\t\t\t\t\tonLocationChange={setLocationFilter}\n\t\t\t\t\tavailableLocations={availableLocations}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<main\n\t\t\t\tstyle={{\n\t\t\t\t\tdisplay: isDesktop ? 'flex' : 'block',\n\t\t\t\t\tflexDirection: isDesktop ? 'row' : undefined,\n\t\t\t\t\talignItems: isDesktop ? 'flex-start' : undefined,\n\t\t\t\t\tjustifyContent: isDesktop ? 'center' : undefined,\n\t\t\t\t\tgap: isDesktop ? 32 : undefined,\n\t\t\t\t\tposition: 'relative',\n\t\t\t\t\tmargin: isDesktop ? '32px 0 32px 32px' : undefined,\n\t\t\t\t\tmarginTop: isDesktop ? '32px' : undefined,\n\t\t\t\t\tpaddingTop: isDesktop ? '16px' : '16px',\n\t\t\t\t\toverflowY: 'auto',\n\t\t\t\t\tWebkitOverflowScrolling: isDesktop ? undefined : 'touch',\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t{filteredDogs.length === 0 ? (\n\t\t\t\t\t<div>{t('doglist.empty') || 'No dogs found.'}</div>\n\t\t\t\t) : (\n\t\t\t\t\t<div\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tdisplay: isDesktop ? 'flex' : 'block',\n\t\t\t\t\t\t\tflexDirection: isDesktop ? 'row' : undefined,\n\t\t\t\t\t\t\tgap: isDesktop ? 16 : undefined,\n\t\t\t\t\t\t\tflexWrap: isDesktop ? 'wrap' : undefined,\n\t\t\t\t\t\t\talignItems: isDesktop ? 'flex-start' : undefined,\n\t\t\t\t\t\t\twidth: isDesktop ? undefined : '100%',\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t{filteredDogs.map(dog => {\n\t\t\t\t\t\t\t// Deduplicate images by base name before passing to CardSmall\n\t\t\t\t\t\t\tconst getImageBase = (url: string) => {\n\t\t\t\t\t\t\t\tlet cleanUrl = url.split('?')[0];\n\t\t\t\t\t\t\t\tconst filename = cleanUrl.substring(cleanUrl.lastIndexOf('/') + 1);\n\t\t\t\t\t\t\t\tconst base = filename.replace(/(-\\d{3,}(?:-[a-z0-9]+)?-(?:320|640|1024|orig))?(-(?:320|640|1024|orig))?(\\.(jpg|jpeg|png|webp))$/i, '')\n\t\t\t\t\t\t\t\t\t.replace(/(-(?:320|640|1024|orig))?(\\.(jpg|jpeg|png|webp))$/i, '')\n\t\t\t\t\t\t\t\t\t.replace(/(\\.(jpg|jpeg|png|webp))$/i, '');\n\t\t\t\t\t\t\t\treturn base;\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tlet dedupedImages = dog.images;\n\t\t\t\t\t\t\tif (Array.isArray(dog.images)) {\n\t\t\t\t\t\t\t\tdedupedImages = dog.images.filter((img, idx, arr) => {\n\t\t\t\t\t\t\t\t\tif (!img || !img.url) return false;\n\t\t\t\t\t\t\t\t\tconst base = getImageBase(img.url);\n\t\t\t\t\t\t\t\t\treturn arr.findIndex(other => other && other.url && getImageBase(other.url) === base) === idx;\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tconst isOwner = user && dog.user && (\n\t\t\t\t\t\t\t\ttypeof dog.user === 'string' \n\t\t\t\t\t\t\t\t\t? dog.user === user._id \n\t\t\t\t\t\t\t\t\t: dog.user._id === user._id\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tconst isSuperAdmin = user?.role === 'superadmin';\n\t\t\t\t\t\t\tconst canEdit = isOwner || isSuperAdmin;\n\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tkey={dog._id}\n\t\t\t\t\t\t\t\t\tstyle={\n\t\t\t\t\t\t\t\t\t\tisDesktop\n\t\t\t\t\t\t\t\t\t\t\t? {\n\t\t\t\t\t\t\t\t\t\t\t\t\tbackground: '#fafbfc',\n\t\t\t\t\t\t\t\t\t\t\t\t\tborderRadius: 16,\n\t\t\t\t\t\t\t\t\t\t\t\t\tboxShadow: '0 2px 16px rgba(0,0,0,0.06)',\n\t\t\t\t\t\t\t\t\t\t\t\t\tpadding: 16,\n\t\t\t\t\t\t\t\t\t\t\t\t\tdisplay: 'block',\n\t\t\t\t\t\t\t\t\t\t\t\t\tminWidth: 280,\n\t\t\t\t\t\t\t\t\t\t\t\t\tmaxWidth: 400,\n\t\t\t\t\t\t\t\t\t\t\t\t\twidth: 'auto',\n\t\t\t\t\t\t\t\t\t\t\t\t\tverticalAlign: 'top',\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t: {}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<CardSmall\n\t\t\t\t\t\t\t\t\t\t{...dog}\n\t\t\t\t\t\t\t\t\t\timages={dedupedImages}\n\t\t\t\t\t\t\t\t\t\tcanEdit={canEdit}\n\t\t\t\t\t\t\t\t\t\tonEdit={() => handleEdit(dog)}\n\t\t\t\t\t\t\t\t\t\tonRemove={() => handleRemove(dog)}\n\t\t\t\t\t\t\t\t\t\tonViewDetails={e => {\n\t\t\t\t\t\t\t\t\t\t\t// Always close any open modals before opening new details\n\t\t\t\t\t\t\t\t\t\t\tsetEditDog(null);\n\t\t\t\t\t\t\t\t\t\t\tsetDetailsDog(null);\n\t\t\t\t\t\t\t\t\t\t\tsetMapDog(null);\n\t\t\t\t\t\t\t\t\t\t\tif (e && Object.keys(e).length === 0) {\n\t\t\t\t\t\t\t\t\t\t\t\t// Location click - open map only\n\t\t\t\t\t\t\t\t\t\t\t\topenMapForDog(dog);\n\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\thandleDetails(dog);\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t})}\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t</main>\n\t\t\t{editDog && (\n\t\t\t\t<EditDogModal\n\t\t\t\t\tkey={editDog._id || Math.random()}\n\t\t\t\t\tdog={editDog}\n\t\t\t\t\tonSave={handleEditSave}\n\t\t\t\t\tonClose={() => setEditDog(null)}\n\t\t\t\t/>\n\t\t\t)}\n\t\t\t{removeDog && (\n\t\t\t\t<RemoveDogModal\n\t\t\t\t\tdog={removeDog}\n\t\t\t\t\tonConfirm={handleRemoveConfirm}\n\t\t\t\t\tonClose={() => setRemoveDog(null)}\n\t\t\t\t/>\n\t\t\t)}\n\t\t\t{/* Details panel on desktop, modal on mobile */}\n\t\t\t{detailsDog && ReactDOM.createPortal(\n\t\t\t\t(isDesktop ? (\n\t\t\t\t\t<div\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tposition: 'fixed',\n\t\t\t\t\t\t\ttop: '50%',\n\t\t\t\t\t\t\tleft: '50%',\n\t\t\t\t\t\t\ttransform: 'translate(-50%, -50%)',\n\t\t\t\t\t\t\twidth: '85vw',\n\t\t\t\t\t\t\tmaxWidth: '700px',\n\t\t\t\t\t\t\theight: 'auto',\n\t\t\t\t\t\t\tbackground: 'rgba(0,0,0,0.5)',\n\t\t\t\t\t\t\tborderRadius: 12,\n\t\t\t\t\t\t\tzIndex: 2147483647,\n\t\t\t\t\t\t\tdisplay: 'flex',\n\t\t\t\t\t\t\talignItems: 'center',\n\t\t\t\t\t\t\tjustifyContent: 'center',\n\t\t\t\t\t\t\tpadding: 16,\n\t\t\t\t\t\t\tpointerEvents: 'auto'\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\tbackground: '#fff',\n\t\t\t\t\t\t\t\tborderRadius: 16,\n\t\t\t\t\t\t\t\tmaxWidth: 700,\n\t\t\t\t\t\t\t\twidth: '95vw',\n\t\t\t\t\t\t\t\tmaxHeight: '95vh',\n\t\t\t\t\t\t\t\toverflow: 'auto',\n\t\t\t\t\t\t\t\tposition: 'relative',\n\t\t\t\t\t\t\t\tpadding: 24,\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tonClick={() => setDetailsDog(null)}\n\t\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\t\t\t\t\t\t\ttop: 12,\n\t\t\t\t\t\t\t\t\t\t\tright: 12,\n\t\t\t\t\t\t\t\t\t\t\twidth: 22,\n\t\t\t\t\t\t\t\t\t\t\theight: 22,\n\t\t\t\t\t\t\t\t\t\t\tbackground: '#e74c3c',\n\t\t\t\t\t\t\t\t\t\t\tborder: 'none',\n\t\t\t\t\t\t\t\t\t\t\tborderRadius: '50%',\n\t\t\t\t\t\t\t\t\t\t\tdisplay: 'flex',\n\t\t\t\t\t\t\t\t\t\t\talignItems: 'center',\n\t\t\t\t\t\t\t\t\t\t\tjustifyContent: 'center',\n\t\t\t\t\t\t\t\t\t\t\tpadding: 0,\n\t\t\t\t\t\t\t\t\t\t\tcursor: 'pointer',\n\t\t\t\t\t\t\t\t\t\t\tzIndex: 2,\n\t\t\t\t\t\t\t\t\t\t\tboxShadow: '0 2px 8px rgba(231,76,60,0.10)',\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\taria-label=\"Close\"\n\t\t\t\t\t\t\t\t\t\ttitle=\"Close\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<span style={{\n\t\t\t\t\t\t\t\t\t\t\tcolor: '#fff',\n\t\t\t\t\t\t\t\t\t\t\tfontSize: '2rem',\n\t\t\t\t\t\t\t\t\t\t\tfontWeight: 900,\n\t\t\t\t\t\t\t\t\t\t\tlineHeight: 1,\n\t\t\t\t\t\t\t\t\t\t\tdisplay: 'flex',\n\t\t\t\t\t\t\t\t\t\t\talignItems: 'center',\n\t\t\t\t\t\t\t\t\t\t\tjustifyContent: 'center',\n\t\t\t\t\t\t\t\t\t\t\twidth: '100%',\n\t\t\t\t\t\t\t\t\t\t\theight: '100%',\n\t\t\t\t\t\t\t\t\t\t}}>√ó</span>\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t<DogDetails\n\t\t\t\t\t\t\t\t{...detailsDog}\n\t\t\t\t\t\t\t\tgender={\n\t\t\t\t\t\t\t\t\tdetailsDog.gender === 'male' || detailsDog.gender === 'female'\n\t\t\t\t\t\t\t\t\t\t? detailsDog.gender\n\t\t\t\t\t\t\t\t\t\t: undefined\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tuser={detailsDog.user || null}\n\t\t\t\t\t\t\t\tplace={detailsDog.place}\n\t\t\t\t\t\t\t\tlocation={detailsDog.location || detailsDog.place}\n\t\t\t\t\t\t\t\tonClose={() => setDetailsDog(null)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t) : (\n\t\t\t\t\t<div\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tposition: 'fixed',\n\t\t\t\t\t\t\ttop: '10vh',\n\t\t\t\t\t\t\tleft: '50%',\n\t\t\t\t\t\t\ttransform: 'translateX(-50%)',\n\t\t\t\t\t\t\twidth: '95vw',\n\t\t\t\t\t\t\tmaxWidth: '700px',\n\t\t\t\t\t\t\theight: '500px',\n\t\t\t\t\t\t\tmaxHeight: '500px',\n\t\t\t\t\t\t\tbackground: 'rgba(0,0,0,0.5)',\n\t\t\t\t\t\t\tborderRadius: 12,\n\t\t\t\t\t\t\tzIndex: 2147483647,\n\t\t\t\t\t\t\tdisplay: 'flex',\n\t\t\t\t\t\t\talignItems: 'flex-start',\n\t\t\t\t\t\t\tjustifyContent: 'center',\n\t\t\t\t\t\t\tpadding: 8,\n\t\t\t\t\t\t\tpointerEvents: 'auto',\n\t\t\t\t\t\t\toverflowY: 'auto'\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\tbackground: '#fff',\n\t\t\t\t\t\t\t\tborderRadius: 12,\n\t\t\t\t\t\t\t\tmaxWidth: 700,\n\t\t\t\t\t\t\t\twidth: '95vw',\n\t\t\t\t\t\t\t\theight: '480px',\n\t\t\t\t\t\t\t\tmaxHeight: '480px',\n\t\t\t\t\t\t\t\toverflow: 'auto',\n\t\t\t\t\t\t\t\toverflowX: 'hidden',\n\t\t\t\t\t\t\t\tposition: 'relative',\n\t\t\t\t\t\t\t\tpadding: 16,\n\t\t\t\t\t\t\t\tWebkitOverflowScrolling: 'touch'\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tonClick={() => setDetailsDog(null)}\n\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\t\t\t\t\ttop: 8,\n\t\t\t\t\t\t\t\t\tright: 8,\n\t\t\t\t\t\t\t\t\twidth: 36,\n\t\t\t\t\t\t\t\t\theight: 36,\n\t\t\t\t\t\t\t\t\tbackground: '#e74c3c',\n\t\t\t\t\t\t\t\t\tcolor: '#fff',\n\t\t\t\t\t\t\t\t\tborder: 'none',\n\t\t\t\t\t\t\t\t\tborderRadius: '50%',\n\t\t\t\t\t\t\t\t\tfontSize: '1.5rem',\n\t\t\t\t\t\t\t\t\tfontWeight: 'bold',\n\t\t\t\t\t\t\t\t\tcursor: 'pointer',\n\t\t\t\t\t\t\t\t\tzIndex: 10000,\n\t\t\t\t\t\t\t\t\tboxShadow: '0 4px 12px rgba(0,0,0,0.3)',\n\t\t\t\t\t\t\t\t\tpadding: 0,\n\t\t\t\t\t\t\t\t\tdisplay: 'flex',\n\t\t\t\t\t\t\t\t\talignItems: 'center',\n\t\t\t\t\t\t\t\t\tjustifyContent: 'center'\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\taria-label=\"Close\"\n\t\t\t\t\t\t\t\ttitle=\"Close\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<span style={{\n\t\t\t\t\t\t\t\t\tfontSize: '1.8rem',\n\t\t\t\t\t\t\t\t\tlineHeight: 1,\n\t\t\t\t\t\t\t\t\tcolor: '#fff'\n\t\t\t\t\t\t\t\t}}>√ó</span>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t<DogDetails\n\t\t\t\t\t\t\t\t{...detailsDog}\n\t\t\t\t\t\t\t\tgender={\n\t\t\t\t\t\t\t\t\tdetailsDog.gender === 'male' || detailsDog.gender === 'female'\n\t\t\t\t\t\t\t\t\t\t? detailsDog.gender\n\t\t\t\t\t\t\t\t\t\t: undefined\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tuser={detailsDog.user || null}\n\t\t\t\t\t\t\t\tplace={detailsDog.place}\n\t\t\t\t\t\t\t\tlocation={detailsDog.location || detailsDog.place}\n\t\t\t\t\t\t\t\tonClose={() => setDetailsDog(null)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t)),\n\t\t\t\tdetailsModalRoot\n\t\t\t)}\n\t\t\t{/* Map-only modal */}\n\t\t\t{mapDog && ReactDOM.createPortal(\n\t\t\t\t<div\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tposition: 'fixed',\n\t\t\t\t\t\ttop: '50%',\n\t\t\t\t\t\tleft: '50%',\n\t\t\t\t\t\ttransform: 'translate(-50%, -50%)',\n\t\t\t\t\t\twidth: '85vw',\n\t\t\t\t\t\tmaxWidth: '600px',\n\t\t\t\t\t\theight: 'auto',\n\t\t\t\t\t\tbackground: 'rgba(0,0,0,0.6)',\n\t\t\t\t\t\tborderRadius: 12,\n\t\t\t\t\t\tzIndex: 2147483647,\n\t\t\t\t\t\tdisplay: 'flex',\n\t\t\t\t\t\talignItems: 'center',\n\t\t\t\t\t\tjustifyContent: 'center',\n\t\t\t\t\t\tpadding: 16,\n\t\t\t\t\t\tpointerEvents: 'auto'\n\t\t\t\t\t}}\n\t\t\t\t\tonClick={(e) => { if (e.target === e.currentTarget) setMapDog(null); }}\n\t\t\t\t>\n\t\t\t\t\t<div\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tbackground: '#fff',\n\t\t\t\t\t\t\tborderRadius: 16,\n\t\t\t\t\t\t\tmaxWidth: 600,\n\t\t\t\t\t\t\twidth: '95vw',\n\t\t\t\t\t\t\tmaxHeight: '80vh',\n\t\t\t\t\t\t\toverflow: 'auto',\n\t\t\t\t\t\t\tposition: 'relative',\n\t\t\t\t\t\t\tpadding: 24,\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tonClick={() => setMapDog(null)}\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\t\t\t\ttop: 12,\n\t\t\t\t\t\t\t\tright: 12,\n\t\t\t\t\t\t\t\twidth: 36,\n\t\t\t\t\t\t\t\theight: 36,\n\t\t\t\t\t\t\t\tbackground: '#e74c3c',\n\t\t\t\t\t\t\t\tcolor: '#fff',\n\t\t\t\t\t\t\t\tborder: 'none',\n\t\t\t\t\t\t\t\tborderRadius: '50%',\n\t\t\t\t\t\t\t\tfontSize: '1.5rem',\n\t\t\t\t\t\t\t\tfontWeight: 'bold',\n\t\t\t\t\t\t\t\tcursor: 'pointer',\n\t\t\t\t\t\t\t\tzIndex: 2,\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\taria-label=\"Close\"\n\t\t\t\t\t\t\ttitle=\"Close\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t√ó\n\t\t\t\t\t\t</button>\n\t\t\t\t\t\t<h3 style={{ marginTop: 0, marginBottom: 16 }}>\n\t\t\t\t\t\t\tüìç {mapDog.name} - {mapDog.location}\n\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t{mapLoading && <div style={{ textAlign: 'center', padding: 20 }}>{t('dogDetails.loadingMap', 'Loading map...')}</div>}\n\t\t\t\t\t\t{mapError && <div style={{ textAlign: 'center', padding: 20, color: '#e74c3c' }}>{mapError}</div>}\n\t\t\t\t\t\t{mapCoords && !mapLoading && (\n\t\t\t\t\t\t\t<iframe\n\t\t\t\t\t\t\t\ttitle=\"Dog Location Map\"\n\t\t\t\t\t\t\t\twidth=\"100%\"\n\t\t\t\t\t\t\t\theight=\"350\"\n\t\t\t\t\t\t\t\tstyle={{ border: 0, borderRadius: 8 }}\n\t\t\t\t\t\t\t\tloading=\"lazy\"\n\t\t\t\t\t\t\t\tallowFullScreen\n\t\t\t\t\t\t\t\tsrc={`https://www.openstreetmap.org/export/embed.html?bbox=${mapCoords.lng - 0.02}%2C${mapCoords.lat - 0.02}%2C${mapCoords.lng + 0.02}%2C${mapCoords.lat + 0.02}&layer=mapnik&marker=${mapCoords.lat}%2C${mapCoords.lng}`}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{!mapCoords && !mapLoading && !mapError && (\n\t\t\t\t\t\t\t<div style={{ textAlign: 'center', padding: 20, color: '#888' }}>\n\t\t\t\t\t\t\t\t{t('dogDetails.noLocationData', 'No location data available')}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t</div>,\n\t\t\t\tmapModalRoot\n\t\t\t)}\n\t\t</>\n\t);\n}\n\nexport default DogList;\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}