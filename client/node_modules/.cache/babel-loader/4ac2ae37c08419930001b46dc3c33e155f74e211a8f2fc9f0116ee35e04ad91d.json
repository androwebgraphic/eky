{"ast":null,"code":"import React,{useEffect,useRef,useState,useCallback}from'react';import{useTranslation}from'react-i18next';import{Link}from'react-router-dom';import{useAuth}from'../contexts/AuthContext';import LanguageSelector from'./LanguageSelector';import UserProfileModal from'./UserProfileModal';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Header=()=>{const{t}=useTranslation();const{user,logout,isAuthenticated}=useAuth();const[apiOk,setApiOk]=useState(null);const[uptime,setUptime]=useState(null);const[isExpanded,setIsExpanded]=useState(false);const[showProfileModal,setShowProfileModal]=useState(false);const timerRef=useRef(null);const headerRef=useRef(null);// Get API URL for profile pictures\nconst getApiUrl=()=>{if(process.env.REACT_APP_API_URL)return process.env.REACT_APP_API_URL;return'http://localhost:3001';};const checkHealth=useCallback(async()=>{try{const apiUrl=getApiUrl();const res=await fetch(\"\".concat(apiUrl,\"/health\"),{method:'GET'});if(!res.ok)throw new Error('Health check failed');const data=await res.json();setApiOk(true);setUptime(typeof data.uptime==='number'?data.uptime:null);}catch(e){setApiOk(false);setUptime(null);}},[]);useEffect(()=>{checkHealth();timerRef.current=window.setInterval(checkHealth,30000);return()=>{if(timerRef.current)window.clearInterval(timerRef.current);};},[checkHealth]);// Close expanded panel when clicking outside\nuseEffect(()=>{const handleClickOutside=event=>{if(isExpanded){setIsExpanded(false);}};if(isExpanded){document.addEventListener('click',handleClickOutside);}return()=>{document.removeEventListener('click',handleClickOutside);};},[isExpanded]);const profileImageUrl=user!==null&&user!==void 0&&user.profilePicture?\"\".concat(getApiUrl(),\"/u\").concat(user.profilePicture.replace('/uploads','')):\"../img/androcolored-80x80.jpg\";// Calculate dropdown position based on header height\nconst dropdownTop=headerRef.current?\"\".concat(headerRef.current.offsetHeight,\"px\"):'60px';return/*#__PURE__*/_jsxs(_Fragment,{children:[isAuthenticated?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"header\",{ref:headerRef,className:\"UserHeader\",children:[/*#__PURE__*/_jsxs(\"nav\",{style:{display:'flex',alignItems:'center',gap:'15px'},children:[/*#__PURE__*/_jsx(Link,{to:\"/\",style:{color:'#f5f5f5',textDecoration:'none',fontSize:'16px'},children:t('nav.about')}),/*#__PURE__*/_jsx(Link,{to:\"psi\",style:{color:'#f5f5f5',textDecoration:'none',fontSize:'16px'},children:t('nav.dogs')})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'15px',position:'relative',marginLeft:'auto'},children:[/*#__PURE__*/_jsx(LanguageSelector,{}),/*#__PURE__*/_jsxs(\"div\",{style:{cursor:'pointer',display:'flex',alignItems:'center',gap:'10px'},onClick:e=>{e.stopPropagation();setIsExpanded(!isExpanded);},children:[/*#__PURE__*/_jsxs(\"div\",{style:{position:'relative',display:'inline-block'},children:[/*#__PURE__*/_jsx(\"img\",{src:profileImageUrl,alt:t('userHeader.avatarAlt'),style:{width:'35px',height:'35px',borderRadius:'50%',objectFit:'cover'},onError:e=>{e.target.src=\"../img/androcolored-80x80.jpg\";}}),/*#__PURE__*/_jsx(\"div\",{style:{position:'absolute',bottom:'2px',right:'2px',width:'8px',height:'8px',backgroundColor:'#4CAF50',borderRadius:'50%',border:'1px solid white',boxShadow:'0 1px 2px rgba(0,0,0,0.2)'},title:\"Online\"})]}),!isExpanded&&/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'12px',color:'#f5f5f5'},children:\"\\u25BA\"})]})]})]}),isExpanded&&user&&/*#__PURE__*/_jsxs(\"div\",{style:{position:'fixed',top:dropdownTop,right:'20px',backgroundColor:'white',color:'#333',padding:'15px',borderRadius:'8px',boxShadow:'0 4px 12px rgba(0,0,0,0.15)',minWidth:'250px',zIndex:9999},onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'8px',fontSize:'14px',fontWeight:'bold',marginBottom:'10px'},children:[user.username,/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'0.8em',color:'#4CAF50',fontWeight:'normal'},children:\"\\u25CF Online\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'10px',fontSize:'0.8em',color:apiOk===null?'#ffc107':apiOk?'#28a745':'#dc3545'},title:apiOk===null?'Checking API…':apiOk?'API OK':'API Down',children:[apiOk===null?'API':apiOk?'API OK':'API Down',uptime?\" \\u2022 \".concat(Math.floor(uptime),\"s\"):'']}),/*#__PURE__*/_jsxs(\"p\",{style:{margin:'5px 0',fontSize:'13px'},children:[\"Name: \",user.name]}),/*#__PURE__*/_jsxs(\"p\",{style:{margin:'5px 0',fontSize:'13px'},children:[\"Email: \",user.email]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'8px',marginTop:'10px'},children:[/*#__PURE__*/_jsx(\"button\",{onClick:e=>{e.stopPropagation();setShowProfileModal(true);setIsExpanded(false);},style:{padding:'6px 12px',backgroundColor:'#666',color:'white',border:'none',borderRadius:'4px',cursor:'pointer',fontSize:'12px'},title:\"User Menu\",children:\"\\u2699\\uFE0F Profile\"}),/*#__PURE__*/_jsx(\"button\",{onClick:e=>{e.stopPropagation();logout();},style:{padding:'6px 12px',backgroundColor:'#f44336',color:'white',border:'none',borderRadius:'4px',cursor:'pointer',fontSize:'12px'},children:t('button.logout')||'Logout'})]}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'12px',color:'#666',marginTop:'10px',textAlign:'center'},children:\"\\u25BC\"})]})]}):/*#__PURE__*/_jsx(\"header\",{style:{position:'fixed',top:'0',left:'0',right:'0',minHeight:'7.5rem',zIndex:'1000',padding:'18px 20px 12px 20px',backgroundColor:'#72211f',color:'#f5f5f5',fontSize:'20px',fontWeight:'bold',boxSizing:'border-box',borderBottom:'2px solid #8a2419',display:'flex',flexDirection:'column',alignItems:'center',justifyContent:'flex-start'},children:/*#__PURE__*/_jsxs(\"div\",{style:{width:'100%',display:'flex',alignItems:'center',gap:'15px',flexDirection:'row',flexWrap:'wrap'},children:[/*#__PURE__*/_jsx(\"div\",{className:\"unauth-message-mobile\",style:{width:'100%',display:'none',justifyContent:'center',marginBottom:6},children:/*#__PURE__*/_jsx(\"p\",{style:{margin:'0 0 0 0',position:'absolute',top:'3px',fontWeight:'normal',fontSize:'0.85em',color:'orange',textAlign:'center',maxWidth:'500px',wordBreak:'break-word',lineHeight:1.2,overflow:'hidden',whiteSpace:'normal',display:'inline-block'},children:\"Morate biti prijavljeni\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"unauth-message-desktop\",style:{flexGrow:1,display:'flex',justifyContent:'center'},children:/*#__PURE__*/_jsx(\"p\",{style:{position:'absolute',top:'3px',margin:0,fontWeight:'normal',fontSize:'0.85em',color:'orange',textAlign:'center',maxWidth:'500px',wordBreak:'break-word',lineHeight:1.2,overflow:'hidden',whiteSpace:'normal',display:'inline-block'},children:\"Morate biti prijavljeni\"})}),/*#__PURE__*/_jsxs(\"nav\",{style:{display:'flex',alignItems:'center',gap:'15px',flexShrink:1},children:[/*#__PURE__*/_jsx(Link,{to:\"/\",style:{color:'#f5f5f5',textDecoration:'none',fontSize:'16px'},children:t('nav.about')}),/*#__PURE__*/_jsx(Link,{to:\"logiranje\",style:{color:'#f5f5f5',textDecoration:'none',fontSize:'16px'},children:t('nav.login')}),/*#__PURE__*/_jsx(Link,{to:\"registracija\",style:{color:'#f5f5f5',textDecoration:'none',fontSize:'16px'},children:t('nav.register')})]}),/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',alignItems:'center',marginLeft:'auto',flexShrink:1},children:/*#__PURE__*/_jsx(LanguageSelector,{})})]})}),showProfileModal&&/*#__PURE__*/_jsx(UserProfileModal,{isOpen:showProfileModal,onClose:()=>{setShowProfileModal(false);}})]});};export default Header;","map":{"version":3,"names":["React","useEffect","useRef","useState","useCallback","useTranslation","Link","useAuth","LanguageSelector","UserProfileModal","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Header","t","user","logout","isAuthenticated","apiOk","setApiOk","uptime","setUptime","isExpanded","setIsExpanded","showProfileModal","setShowProfileModal","timerRef","headerRef","getApiUrl","process","env","REACT_APP_API_URL","checkHealth","apiUrl","res","fetch","concat","method","ok","Error","data","json","e","current","window","setInterval","clearInterval","handleClickOutside","event","document","addEventListener","removeEventListener","profileImageUrl","profilePicture","replace","dropdownTop","offsetHeight","children","ref","className","style","display","alignItems","gap","to","color","textDecoration","fontSize","position","marginLeft","cursor","onClick","stopPropagation","src","alt","width","height","borderRadius","objectFit","onError","target","bottom","right","backgroundColor","border","boxShadow","title","top","padding","minWidth","zIndex","fontWeight","marginBottom","username","Math","floor","margin","name","email","marginTop","textAlign","left","minHeight","boxSizing","borderBottom","flexDirection","justifyContent","flexWrap","maxWidth","wordBreak","lineHeight","overflow","whiteSpace","flexGrow","flexShrink","isOpen","onClose"],"sources":["/Applications/MAMP/htdocs/eky/client/src/components/Header.tsx"],"sourcesContent":["import React, { useEffect, useRef, useState, useCallback } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { Link } from 'react-router-dom';\nimport { useAuth } from '../contexts/AuthContext';\nimport LanguageSelector from './LanguageSelector';\nimport UserProfileModal from './UserProfileModal';\n\nconst Header: React.FC = () => {\n  const { t } = useTranslation();\n  const { user, logout, isAuthenticated } = useAuth();\n  const [apiOk, setApiOk] = useState<boolean | null>(null);\n  const [uptime, setUptime] = useState<number | null>(null);\n  const [isExpanded, setIsExpanded] = useState(false);\n  const [showProfileModal, setShowProfileModal] = useState(false);\n  const timerRef = useRef<number | null>(null);\n  const headerRef = useRef<HTMLElement | null>(null);\n\n  // Get API URL for profile pictures\n  const getApiUrl = () => {\n    if (process.env.REACT_APP_API_URL) return process.env.REACT_APP_API_URL;\n    return 'http://localhost:3001';\n  };\n\n  const checkHealth = useCallback(async () => {\n    try {\n      const apiUrl = getApiUrl();\n      const res = await fetch(`${apiUrl}/health`, { method: 'GET' });\n      if (!res.ok) throw new Error('Health check failed');\n      const data = await res.json();\n      setApiOk(true);\n      setUptime(typeof data.uptime === 'number' ? data.uptime : null);\n    } catch (e) {\n      setApiOk(false);\n      setUptime(null);\n    }\n  }, []);\n\n  useEffect(() => {\n    checkHealth();\n    timerRef.current = window.setInterval(checkHealth, 30000);\n    return () => {\n      if (timerRef.current) window.clearInterval(timerRef.current);\n    };\n  }, [checkHealth]);\n\n  // Close expanded panel when clicking outside\n  useEffect(() => {\n    const handleClickOutside = (event: MouseEvent) => {\n      if (isExpanded) {\n        setIsExpanded(false);\n      }\n    };\n\n    if (isExpanded) {\n      document.addEventListener('click', handleClickOutside);\n    }\n\n    return () => {\n      document.removeEventListener('click', handleClickOutside);\n    };\n  }, [isExpanded]);\n\n  const profileImageUrl = user?.profilePicture ? `${getApiUrl()}/u${user.profilePicture.replace('/uploads', '')}` : \"../img/androcolored-80x80.jpg\";\n  \n  // Calculate dropdown position based on header height\n  const dropdownTop = headerRef.current ? `${headerRef.current.offsetHeight}px` : '60px';\n  \n  return (\n    <>\n      {isAuthenticated ? (\n        <>\n        <header\n          ref={headerRef}\n          className=\"UserHeader\"\n        >\n         \n          {/* Left side: Navigation Links */}\n          <nav style={{ display: 'flex', alignItems: 'center', gap: '15px' }}>\n            <Link to=\"/\" style={{ color: '#f5f5f5', textDecoration: 'none', fontSize: '16px' }}>{t('nav.about')}</Link>\n            <Link to=\"psi\" style={{ color: '#f5f5f5', textDecoration: 'none', fontSize: '16px' }}>{t('nav.dogs')}</Link>\n          </nav>\n\n          {/* Right side: Language Selector + User Info */}\n          <div style={{ display: 'flex', alignItems: 'center', gap: '15px', position: 'relative', marginLeft: 'auto' }}>\n            <LanguageSelector />\n            \n            {/* User Picture + Expandable Info */}\n            <div \n              style={{ \n                cursor: 'pointer',\n                display: 'flex',\n                alignItems: 'center',\n                gap: '10px'\n              }}\n              onClick={(e) => {\n                e.stopPropagation();\n                setIsExpanded(!isExpanded);\n              }}\n            >\n              <div style={{ position: 'relative', display: 'inline-block' }}>\n                <img \n                  src={profileImageUrl}\n                  alt={t('userHeader.avatarAlt')} \n                  style={{ \n                    width: '35px', \n                    height: '35px', \n                    borderRadius: '50%',\n                    objectFit: 'cover'\n                  }}\n                  onError={(e) => {\n                    (e.target as HTMLImageElement).src = \"../img/androcolored-80x80.jpg\";\n                  }}\n                />\n                {/* Green online indicator */}\n                <div\n                  style={{\n                    position: 'absolute',\n                    bottom: '2px',\n                    right: '2px',\n                    width: '8px',\n                    height: '8px',\n                    backgroundColor: '#4CAF50',\n                    borderRadius: '50%',\n                    border: '1px solid white',\n                    boxShadow: '0 1px 2px rgba(0,0,0,0.2)'\n                  }}\n                  title=\"Online\"\n                />\n              </div>\n\n              {/* Expand/collapse indicator */}\n              {!isExpanded && (\n                <div style={{ fontSize: '12px', color: '#f5f5f5' }}>\n                  ►\n                </div>\n              )}\n            </div>\n          </div>\n        </header>\n        \n        {/* Expanded dropdown panel - outside the header */}\n        {isExpanded && user && (\n            <div \n              style={{ \n                position: 'fixed',\n                top: dropdownTop,\n                right: '20px',\n                backgroundColor: 'white',\n                color: '#333',\n                padding: '15px',\n                borderRadius: '8px',\n                boxShadow: '0 4px 12px rgba(0,0,0,0.15)',\n                minWidth: '250px',\n                zIndex: 9999\n              }}\n              onClick={(e) => e.stopPropagation()}\n            >\n              <div style={{ display: 'flex', alignItems: 'center', gap: '8px', fontSize: '14px', fontWeight: 'bold', marginBottom: '10px' }}>\n                {user.username}\n                <span\n                  style={{\n                    fontSize: '0.8em',\n                    color: '#4CAF50',\n                    fontWeight: 'normal'\n                  }}\n                >\n                  ● Online\n                </span>\n              </div>\n\n              <div style={{\n                marginBottom: '10px',\n                fontSize: '0.8em',\n                color: apiOk === null ? '#ffc107' : apiOk ? '#28a745' : '#dc3545'\n              }} title={apiOk === null ? 'Checking API…' : apiOk ? 'API OK' : 'API Down'}>\n                {apiOk === null ? 'API' : apiOk ? 'API OK' : 'API Down'}{uptime ? ` • ${Math.floor(uptime)}s` : ''}\n              </div>\n\n              <p style={{ margin: '5px 0', fontSize: '13px' }}>Name: {user.name}</p>\n              <p style={{ margin: '5px 0', fontSize: '13px' }}>Email: {user.email}</p>\n              \n              <div style={{ display: 'flex', gap: '8px', marginTop: '10px' }}>\n                <button\n                  onClick={(e) => {\n                    e.stopPropagation();\n                    setShowProfileModal(true);\n                    setIsExpanded(false);\n                  }}\n                  style={{\n                    padding: '6px 12px',\n                    backgroundColor: '#666',\n                    color: 'white',\n                    border: 'none',\n                    borderRadius: '4px',\n                    cursor: 'pointer',\n                    fontSize: '12px'\n                  }}\n                  title=\"User Menu\"\n                >\n                  ⚙️ Profile\n                </button>\n\n                <button \n                  onClick={(e) => {\n                    e.stopPropagation();\n                    logout();\n                  }}\n                  style={{\n                    padding: '6px 12px',\n                    backgroundColor: '#f44336',\n                    color: 'white',\n                    border: 'none',\n                    borderRadius: '4px',\n                    cursor: 'pointer',\n                    fontSize: '12px'\n                  }}\n                >\n                  {t('button.logout') || 'Logout'}\n                </button>\n              </div>\n\n              {/* Collapse indicator */}\n              <div style={{ fontSize: '12px', color: '#666', marginTop: '10px', textAlign: 'center' }}>\n                ▼\n              </div>\n            </div>\n          )}\n        </>\n      ) : (\n        <header style={{\n          position: 'fixed',\n          top: '0',\n          left: '0',\n          right: '0',\n          minHeight: '7.5rem',\n          zIndex: '1000',\n          padding: '18px 20px 12px 20px',\n          backgroundColor: '#72211f',\n          color: '#f5f5f5',\n          fontSize: '20px',\n          fontWeight: 'bold',\n          boxSizing: 'border-box',\n          borderBottom: '2px solid #8a2419',\n          display: 'flex',\n          flexDirection: 'column',\n          alignItems: 'center',\n          justifyContent: 'flex-start',\n        }}>\n          <div\n            style={{\n              width: '100%',\n              display: 'flex',\n              alignItems: 'center',\n              gap: '15px',\n              flexDirection: 'row',\n              flexWrap: 'wrap',\n            }}\n          >\n            {/* Mobile: message above nav */}\n            <div\n              className=\"unauth-message-mobile\"\n              style={{\n                width: '100%',\n                display: 'none',\n                justifyContent: 'center',\n                marginBottom: 6,\n              }}\n            >\n              <p\n                style={{\n                  margin: '0 0 0 0',\n                  position: 'absolute',\n                  top: '3px',\n                  fontWeight: 'normal',\n                  fontSize: '0.85em',\n                  color: 'orange',\n                  textAlign: 'center',\n                  maxWidth: '500px',\n                  wordBreak: 'break-word',\n                  lineHeight: 1.2,\n                  overflow: 'hidden',\n                  whiteSpace: 'normal',\n                  display: 'inline-block',\n                }}\n              >\n                Morate biti prijavljeni\n              </p>\n            </div>\n            {/* Desktop: message centered */}\n            <div\n              className=\"unauth-message-desktop\"\n              style={{ flexGrow: 1, display: 'flex', justifyContent: 'center' }}\n            >\n              <p\n                style={{\n                  position: 'absolute',\n                  top: '3px',\n                  margin: 0,\n                  fontWeight: 'normal',\n                  fontSize: '0.85em',\n                  color: 'orange',\n                  textAlign: 'center',\n                  maxWidth: '500px',\n                  wordBreak: 'break-word',\n                  lineHeight: 1.2,\n                  overflow: 'hidden',\n                  whiteSpace: 'normal',\n                  display: 'inline-block',\n                }}\n              >\n                  Morate biti prijavljeni\n              </p>\n            </div>\n            {/* Left side: Navigation Links */}\n            <nav style={{ display: 'flex', alignItems: 'center', gap: '15px', flexShrink: 1 }}>\n              <Link to=\"/\" style={{ color: '#f5f5f5', textDecoration: 'none', fontSize: '16px' }}>{t('nav.about')}</Link>\n              <Link to=\"logiranje\" style={{ color: '#f5f5f5', textDecoration: 'none', fontSize: '16px' }}>{t('nav.login')}</Link>\n              <Link to=\"registracija\" style={{ color: '#f5f5f5', textDecoration: 'none', fontSize: '16px' }}>{t('nav.register')}</Link>\n            </nav>\n            {/* Right side: Language Selector */}\n            <div style={{ display: 'flex', alignItems: 'center', marginLeft: 'auto', flexShrink: 1 }}>\n              <LanguageSelector />\n            </div>\n          </div>\n        </header>\n      )}\n      \n      {/* User Profile Modal */}\n      {showProfileModal && (\n        <UserProfileModal \n          isOpen={showProfileModal} \n          onClose={() => {\n            setShowProfileModal(false);\n          }} \n        />\n      )}\n    </>\n  );\n};\n\nexport default Header;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}