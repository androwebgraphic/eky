{"ast":null,"code":"var _jsxFileName = \"/Applications/MAMP/htdocs/eky/client/src/contexts/AuthContext.tsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { createContext, useContext, useState, useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AuthContext = /*#__PURE__*/createContext(undefined);\nexport const useAuth = () => {\n  _s();\n  const context = useContext(AuthContext);\n  if (context === undefined) {\n    throw new Error('useAuth must be used within an AuthProvider');\n  }\n  return context;\n};\n_s(useAuth, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\nexport const AuthProvider = _ref => {\n  _s2();\n  let {\n    children\n  } = _ref;\n  const [user, setUser] = useState(null);\n  const [token, setToken] = useState(null);\n  const [loading, setLoading] = useState(true);\n\n  // Get API URL based on environment\n  const getApiUrl = () => {\n    if (process.env.REACT_APP_API_URL) return process.env.REACT_APP_API_URL;\n    if (window.location.hostname === 'localhost' || window.location.hostname === '127.0.0.1') {\n      return `http://${window.location.hostname}:3001`;\n    }\n    // For mobile/network access, use the network IP\n    return `http://172.20.10.2:3001`;\n  };\n  useEffect(() => {\n    // Check if user is logged in on app start\n    const storedToken = localStorage.getItem('token');\n    const storedUser = localStorage.getItem('user');\n    if (storedToken && storedUser) {\n      try {\n        const parsedUser = JSON.parse(storedUser);\n        setToken(storedToken);\n        setUser(parsedUser);\n      } catch (error) {\n        console.error('AuthContext: Error parsing stored user:', error);\n        localStorage.removeItem('token');\n        localStorage.removeItem('user');\n      }\n    }\n    setLoading(false);\n  }, []);\n  const login = async (email, password) => {\n    try {\n      const API_URL = getApiUrl();\n      console.log('ðŸŒ API URL:', API_URL);\n\n      // Add timeout to prevent hanging requests\n      const controller = new AbortController();\n      const timeoutId = setTimeout(() => controller.abort(), 10000); // 10 second timeout\n\n      const response = await fetch(`${API_URL}/api/users/logiranje`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          email,\n          password\n        }),\n        signal: controller.signal\n      });\n      clearTimeout(timeoutId);\n      const data = await response.json();\n      if (response.ok) {\n        console.log('âœ… LOGIN SUCCESS - Setting user:', data);\n        console.log('âœ… LOGIN SUCCESS - User _id:', data._id);\n        console.log('âœ… LOGIN SUCCESS - Token:', data.token);\n        setUser(data);\n        setToken(data.token);\n        localStorage.setItem('token', data.token);\n        localStorage.setItem('user', JSON.stringify(data));\n        console.log('âœ… LOGIN SUCCESS - Data saved to localStorage');\n        return {\n          success: true\n        };\n      } else {\n        console.log('âŒ LOGIN FAILED - Server response:', data);\n        return {\n          success: false,\n          error: data.message || 'Login failed'\n        };\n      }\n    } catch (error) {\n      console.error('âŒ LOGIN NETWORK ERROR:', error);\n      if (error.name === 'AbortError') {\n        return {\n          success: false,\n          error: 'Request timeout. Please try again.'\n        };\n      }\n      return {\n        success: false,\n        error: 'Network error. Please check your connection.'\n      };\n    }\n  };\n  const register = async userData => {\n    try {\n      const API_URL = getApiUrl();\n      const response = await fetch(`${API_URL}/api/users/registracija`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(userData)\n      });\n      const data = await response.json();\n      if (response.ok) {\n        return {\n          success: true\n        };\n      } else {\n        return {\n          success: false,\n          error: data.message || 'Registration failed'\n        };\n      }\n    } catch (error) {\n      console.error('Registration network error:', error);\n      return {\n        success: false,\n        error: 'Network error. Please try again.'\n      };\n    }\n  };\n  const addToWishlist = async dogId => {\n    try {\n      console.log('Adding to wishlist:', dogId);\n      const API_URL = getApiUrl();\n      const response = await fetch(`${API_URL}/api/users/wishlist`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${token}`\n        },\n        body: JSON.stringify({\n          dogId\n        })\n      });\n      const data = await response.json();\n      console.log('Add to wishlist response:', data);\n      if (response.ok) {\n        // Update user's wishlist in state\n        if (user) {\n          const updatedUser = {\n            ...user,\n            wishlist: [...(user.wishlist || []), dogId]\n          };\n          updateUser(updatedUser);\n          console.log('Updated user wishlist:', updatedUser.wishlist);\n        }\n        return {\n          success: true\n        };\n      } else {\n        console.error('Add to wishlist failed:', data);\n        return {\n          success: false,\n          error: data.message || 'Failed to add to wishlist'\n        };\n      }\n    } catch (error) {\n      console.error('Add to wishlist error:', error);\n      return {\n        success: false,\n        error: 'Network error. Please try again.'\n      };\n    }\n  };\n  const removeFromWishlist = async dogId => {\n    try {\n      console.log('Removing from wishlist:', dogId);\n      const API_URL = getApiUrl();\n      const response = await fetch(`${API_URL}/api/users/wishlist/${dogId}`, {\n        method: 'DELETE',\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      console.log('Remove from wishlist response status:', response.status);\n      if (response.ok) {\n        // Update user's wishlist in state\n        if (user) {\n          const updatedUser = {\n            ...user,\n            wishlist: (user.wishlist || []).filter(id => id !== dogId)\n          };\n          updateUser(updatedUser);\n          console.log('Updated user wishlist after removal:', updatedUser.wishlist);\n        }\n        return {\n          success: true\n        };\n      } else {\n        const data = await response.json();\n        console.error('Remove from wishlist failed:', data);\n        return {\n          success: false,\n          error: data.message || 'Failed to remove from wishlist'\n        };\n      }\n    } catch (error) {\n      console.error('Remove from wishlist error:', error);\n      return {\n        success: false,\n        error: 'Network error. Please try again.'\n      };\n    }\n  };\n  const getWishlist = async () => {\n    try {\n      const API_URL = getApiUrl();\n      const response = await fetch(`${API_URL}/api/users/wishlist`, {\n        method: 'GET',\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      if (response.ok) {\n        const wishlist = await response.json();\n        return wishlist;\n      } else {\n        return [];\n      }\n    } catch (error) {\n      return [];\n    }\n  };\n  const isInWishlist = dogId => {\n    var _user$wishlist;\n    return (user === null || user === void 0 ? void 0 : (_user$wishlist = user.wishlist) === null || _user$wishlist === void 0 ? void 0 : _user$wishlist.includes(dogId)) || false;\n  };\n  const updateUser = userData => {\n    setUser(userData);\n    localStorage.setItem('user', JSON.stringify(userData));\n  };\n  const logout = () => {\n    setUser(null);\n    setToken(null);\n    localStorage.removeItem('token');\n    localStorage.removeItem('user');\n  };\n  const isAuthenticated = !!user && !!token;\n  const value = {\n    user,\n    token,\n    login,\n    register,\n    logout,\n    updateUser,\n    addToWishlist,\n    removeFromWishlist,\n    getWishlist,\n    isInWishlist,\n    isAuthenticated,\n    loading\n  };\n  return /*#__PURE__*/_jsxDEV(AuthContext.Provider, {\n    value: value,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 270,\n    columnNumber: 10\n  }, this);\n};\n_s2(AuthProvider, \"uAkFQMmIUxfxJcQTEb8tCM/KFt4=\");\n_c = AuthProvider;\nvar _c;\n$RefreshReg$(_c, \"AuthProvider\");","map":{"version":3,"names":["React","createContext","useContext","useState","useEffect","AuthContext","undefined","useAuth","context","Error","AuthProvider","children","user","setUser","token","setToken","loading","setLoading","getApiUrl","process","env","REACT_APP_API_URL","window","location","hostname","storedToken","localStorage","getItem","storedUser","parsedUser","JSON","parse","error","console","removeItem","login","email","password","API_URL","log","controller","AbortController","timeoutId","setTimeout","abort","response","fetch","method","headers","body","stringify","signal","clearTimeout","data","json","ok","_id","setItem","success","message","name","register","userData","addToWishlist","dogId","updatedUser","wishlist","updateUser","removeFromWishlist","status","filter","id","getWishlist","isInWishlist","includes","logout","isAuthenticated","value"],"sources":["/Applications/MAMP/htdocs/eky/client/src/contexts/AuthContext.tsx"],"sourcesContent":["import React, { createContext, useContext, useState, useEffect, ReactNode } from 'react';\n\ninterface User {\n  _id: string;\n  name: string;\n  email: string;\n  username: string;\n  wishlist?: string[];\n  profilePicture?: string;\n  role?: string;\n}\n\ninterface AuthContextType {\n  user: User | null;\n  token: string | null;\n  login: (email: string, password: string) => Promise<{ success: boolean; error?: string }>;\n  register: (userData: any) => Promise<{ success: boolean; error?: string }>;\n  logout: () => void;\n  updateUser: (userData: User) => void;\n  addToWishlist: (dogId: string) => Promise<{ success: boolean; error?: string }>;\n  removeFromWishlist: (dogId: string) => Promise<{ success: boolean; error?: string }>;\n  getWishlist: () => Promise<any[]>;\n  isInWishlist: (dogId: string) => boolean;\n  isAuthenticated: boolean;\n  loading: boolean;\n}\n\nconst AuthContext = createContext<AuthContextType | undefined>(undefined);\n\nexport const useAuth = () => {\n  const context = useContext(AuthContext);\n  if (context === undefined) {\n    throw new Error('useAuth must be used within an AuthProvider');\n  }\n  return context;\n};\n\ninterface AuthProviderProps {\n  children: ReactNode;\n}\n\nexport const AuthProvider: React.FC<AuthProviderProps> = ({ children }) => {\n  const [user, setUser] = useState<User | null>(null);\n  const [token, setToken] = useState<string | null>(null);\n  const [loading, setLoading] = useState(true);\n\n  // Get API URL based on environment\n  const getApiUrl = () => {\n    if (process.env.REACT_APP_API_URL) return process.env.REACT_APP_API_URL;\n    if (window.location.hostname === 'localhost' || window.location.hostname === '127.0.0.1') {\n      return `http://${window.location.hostname}:3001`;\n    }\n    // For mobile/network access, use the network IP\n    return `http://172.20.10.2:3001`;\n  };\n\n  useEffect(() => {\n    // Check if user is logged in on app start\n    const storedToken = localStorage.getItem('token');\n    const storedUser = localStorage.getItem('user');\n    \n    if (storedToken && storedUser) {\n      try {\n        const parsedUser = JSON.parse(storedUser);\n        setToken(storedToken);\n        setUser(parsedUser);\n      } catch (error) {\n        console.error('AuthContext: Error parsing stored user:', error);\n        localStorage.removeItem('token');\n        localStorage.removeItem('user');\n      }\n    }\n    setLoading(false);\n  }, []);\n\n  const login = async (email: string, password: string) => {\n    try {\n      const API_URL = getApiUrl();\n      console.log('ðŸŒ API URL:', API_URL);\n      \n      // Add timeout to prevent hanging requests\n      const controller = new AbortController();\n      const timeoutId = setTimeout(() => controller.abort(), 10000); // 10 second timeout\n      \n      const response = await fetch(`${API_URL}/api/users/logiranje`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({ email, password }),\n        signal: controller.signal\n      });\n\n      clearTimeout(timeoutId);\n      const data = await response.json();\n\n      if (response.ok) {\n        console.log('âœ… LOGIN SUCCESS - Setting user:', data);\n        console.log('âœ… LOGIN SUCCESS - User _id:', data._id);\n        console.log('âœ… LOGIN SUCCESS - Token:', data.token);\n        setUser(data);\n        setToken(data.token);\n        localStorage.setItem('token', data.token);\n        localStorage.setItem('user', JSON.stringify(data));\n        console.log('âœ… LOGIN SUCCESS - Data saved to localStorage');\n        return { success: true };\n      } else {\n        console.log('âŒ LOGIN FAILED - Server response:', data);\n        return { success: false, error: data.message || 'Login failed' };\n      }\n    } catch (error) {\n      console.error('âŒ LOGIN NETWORK ERROR:', error);\n      if (error.name === 'AbortError') {\n        return { success: false, error: 'Request timeout. Please try again.' };\n      }\n      return { success: false, error: 'Network error. Please check your connection.' };\n    }\n  };\n\n  const register = async (userData: any) => {\n    try {\n      const API_URL = getApiUrl();\n      const response = await fetch(`${API_URL}/api/users/registracija`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(userData),\n      });\n\n      const data = await response.json();\n\n      if (response.ok) {\n        return { success: true };\n      } else {\n        return { success: false, error: data.message || 'Registration failed' };\n      }\n    } catch (error) {\n      console.error('Registration network error:', error);\n      return { success: false, error: 'Network error. Please try again.' };\n    }\n  };\n\n  const addToWishlist = async (dogId: string) => {\n    try {\n      console.log('Adding to wishlist:', dogId);\n      const API_URL = getApiUrl();\n      const response = await fetch(`${API_URL}/api/users/wishlist`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${token}`\n        },\n        body: JSON.stringify({ dogId }),\n      });\n\n      const data = await response.json();\n      console.log('Add to wishlist response:', data);\n\n      if (response.ok) {\n        // Update user's wishlist in state\n        if (user) {\n          const updatedUser = {\n            ...user,\n            wishlist: [...(user.wishlist || []), dogId]\n          };\n          updateUser(updatedUser);\n          console.log('Updated user wishlist:', updatedUser.wishlist);\n        }\n        return { success: true };\n      } else {\n        console.error('Add to wishlist failed:', data);\n        return { success: false, error: data.message || 'Failed to add to wishlist' };\n      }\n    } catch (error) {\n      console.error('Add to wishlist error:', error);\n      return { success: false, error: 'Network error. Please try again.' };\n    }\n  };\n\n  const removeFromWishlist = async (dogId: string) => {\n    try {\n      console.log('Removing from wishlist:', dogId);\n      const API_URL = getApiUrl();\n      const response = await fetch(`${API_URL}/api/users/wishlist/${dogId}`, {\n        method: 'DELETE',\n        headers: {\n          'Authorization': `Bearer ${token}`\n        },\n      });\n\n      console.log('Remove from wishlist response status:', response.status);\n\n      if (response.ok) {\n        // Update user's wishlist in state\n        if (user) {\n          const updatedUser = {\n            ...user,\n            wishlist: (user.wishlist || []).filter(id => id !== dogId)\n          };\n          updateUser(updatedUser);\n          console.log('Updated user wishlist after removal:', updatedUser.wishlist);\n        }\n        return { success: true };\n      } else {\n        const data = await response.json();\n        console.error('Remove from wishlist failed:', data);\n        return { success: false, error: data.message || 'Failed to remove from wishlist' };\n      }\n    } catch (error) {\n      console.error('Remove from wishlist error:', error);\n      return { success: false, error: 'Network error. Please try again.' };\n    }\n  };\n\n  const getWishlist = async () => {\n    try {\n      const API_URL = getApiUrl();\n      const response = await fetch(`${API_URL}/api/users/wishlist`, {\n        method: 'GET',\n        headers: {\n          'Authorization': `Bearer ${token}`\n        },\n      });\n\n      if (response.ok) {\n        const wishlist = await response.json();\n        return wishlist;\n      } else {\n        return [];\n      }\n    } catch (error) {\n      return [];\n    }\n  };\n\n  const isInWishlist = (dogId: string) => {\n    return user?.wishlist?.includes(dogId) || false;\n  };\n\n  const updateUser = (userData: User) => {\n    setUser(userData);\n    localStorage.setItem('user', JSON.stringify(userData));\n  };\n\n  const logout = () => {\n    setUser(null);\n    setToken(null);\n    localStorage.removeItem('token');\n    localStorage.removeItem('user');\n  };\n\n  const isAuthenticated = !!user && !!token;\n\n  const value: AuthContextType = {\n    user,\n    token,\n    login,\n    register,\n    logout,\n    updateUser,\n    addToWishlist,\n    removeFromWishlist,\n    getWishlist,\n    isInWishlist,\n    isAuthenticated,\n    loading,\n  };\n\n  return <AuthContext.Provider value={value}>{children}</AuthContext.Provider>;\n};"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}