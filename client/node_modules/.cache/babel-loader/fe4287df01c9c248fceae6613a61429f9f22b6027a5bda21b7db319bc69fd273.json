{"ast":null,"code":"var _jsxFileName = \"/Applications/MAMP/htdocs/eky/client/src/components/pages/LoginForm.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { useForm } from 'react-hook-form';\nimport { yupResolver } from '@hookform/resolvers/yup';\nimport * as yup from 'yup';\nimport { useTranslation } from 'react-i18next';\nimport { useAuth } from '../../contexts/AuthContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst LoginForm = () => {\n  _s();\n  var _errors$email, _errors$password;\n  const {\n    t\n  } = useTranslation();\n  const navigate = useNavigate();\n  const {\n    login\n  } = useAuth();\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [loginError, setLoginError] = useState('');\n\n  // ...removed social login handler...\n\n  const schema = yup.object().shape({\n    email: yup.string().email(t('validation.emailInvalid')).required(t('validation.emailRequired')),\n    password: yup.string().min(4, t('validation.passwordMin', {\n      min: 4\n    })).max(20).required(t('validation.passwordRequired'))\n  });\n  const {\n    register,\n    handleSubmit,\n    formState: {\n      errors\n    }\n  } = useForm({\n    resolver: yupResolver(schema)\n  });\n  const onSubmit = async data => {\n    console.log('üîê LOGIN ATTEMPT:', data.email);\n    setIsSubmitting(true);\n    setLoginError('');\n    try {\n      const result = await login(data.email, data.password);\n      console.log('üîê LOGIN RESULT:', result);\n      if (result.success) {\n        console.log('‚úÖ Login successful, navigating to home');\n        navigate('/');\n      } else {\n        console.log('‚ùå Login failed:', result.error);\n        setLoginError(result.error || 'Login failed');\n      }\n    } catch (error) {\n      console.error('‚ùå LOGIN ERROR:', error);\n      setLoginError('Network error. Please check your connection and try again.');\n    } finally {\n      console.log('üîê Setting isSubmitting to false');\n      setIsSubmitting(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"main\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: t('login.title')\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      id: \"login-form\",\n      onSubmit: handleSubmit(onSubmit),\n      children: [loginError && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"error\",\n        style: {\n          marginBottom: '1rem',\n          padding: '0.5rem',\n          backgroundColor: '#ffebee',\n          border: '1px solid #e57373',\n          borderRadius: '4px'\n        },\n        children: loginError\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"login-email\",\n        children: t('register.email')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"email\",\n        id: \"login-email\",\n        name: \"email\",\n        autoComplete: \"email\",\n        placeholder: t('register.email'),\n        ...register('email')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"error\",\n        children: (_errors$email = errors.email) === null || _errors$email === void 0 ? void 0 : _errors$email.message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"login-password\",\n        children: t('register.password')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"password\",\n        id: \"login-password\",\n        name: \"password\",\n        autoComplete: \"current-password\",\n        placeholder: t('register.password'),\n        ...register('password')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"error\",\n        children: (_errors$password = errors.password) === null || _errors$password === void 0 ? void 0 : _errors$password.message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        id: \"login\",\n        className: \"details\",\n        type: \"submit\",\n        disabled: isSubmitting,\n        children: isSubmitting ? t('button.submitting') || 'Submitting...' : t('button.login') || 'Login'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        onClick: () => {\n          console.log('üîç DEBUG: Current state - isSubmitting:', isSubmitting, 'loginError:', loginError);\n          setIsSubmitting(false); // Force reset\n        },\n        style: {\n          marginLeft: '10px',\n          backgroundColor: '#ff9800',\n          color: 'white',\n          padding: '5px 10px',\n          border: 'none',\n          borderRadius: '4px'\n        },\n        children: \"Reset Button\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [t('login.remember'), \" \", /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"checkbox\",\n        id: \"login-remember\",\n        name: \"remember\",\n        autoComplete: \"off\",\n        ...register('remember')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 31\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 68,\n    columnNumber: 5\n  }, this);\n};\n_s(LoginForm, \"M0ZSDQhXcIm86TaWW2KSOxMvk/A=\", false, function () {\n  return [useTranslation, useNavigate, useAuth, useForm];\n});\n_c = LoginForm;\nexport default LoginForm;\nvar _c;\n$RefreshReg$(_c, \"LoginForm\");","map":{"version":3,"names":["React","useState","useNavigate","useForm","yupResolver","yup","useTranslation","useAuth","jsxDEV","_jsxDEV","LoginForm","_s","_errors$email","_errors$password","t","navigate","login","isSubmitting","setIsSubmitting","loginError","setLoginError","schema","object","shape","email","string","required","password","min","max","register","handleSubmit","formState","errors","resolver","onSubmit","data","console","log","result","success","error","children","fileName","_jsxFileName","lineNumber","columnNumber","id","className","style","marginBottom","padding","backgroundColor","border","borderRadius","htmlFor","type","name","autoComplete","placeholder","message","disabled","onClick","marginLeft","color","_c","$RefreshReg$"],"sources":["/Applications/MAMP/htdocs/eky/client/src/components/pages/LoginForm.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { useForm, SubmitHandler } from 'react-hook-form';\nimport { yupResolver } from '@hookform/resolvers/yup';\nimport * as yup from 'yup';\nimport { useTranslation } from 'react-i18next';\nimport { useAuth } from '../../contexts/AuthContext';\n\ninterface LoginFormData {\n  email: string;\n  password: string;\n  remember?: boolean;\n}\n\nconst LoginForm: React.FC = () => {\n  const { t } = useTranslation();\n  const navigate = useNavigate();\n  const { login } = useAuth();\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [loginError, setLoginError] = useState<string>('');\n\n\n  // ...removed social login handler...\n\n  const schema = yup.object().shape({\n    email: yup.string().email(t('validation.emailInvalid')).required(t('validation.emailRequired')),\n    password: yup\n      .string()\n      .min(4, t('validation.passwordMin', { min: 4 }))\n      .max(20)\n      .required(t('validation.passwordRequired')),\n  });\n\n  const {\n    register,\n    handleSubmit,\n    formState: { errors },\n  } = useForm<LoginFormData>({\n    resolver: yupResolver(schema),\n  });\n\n  const onSubmit: SubmitHandler<LoginFormData> = async (data) => {\n    console.log('üîê LOGIN ATTEMPT:', data.email);\n    setIsSubmitting(true);\n    setLoginError('');\n    \n    try {\n      const result = await login(data.email, data.password);\n      console.log('üîê LOGIN RESULT:', result);\n      \n      if (result.success) {\n        console.log('‚úÖ Login successful, navigating to home');\n        navigate('/');\n      } else {\n        console.log('‚ùå Login failed:', result.error);\n        setLoginError(result.error || 'Login failed');\n      }\n    } catch (error) {\n      console.error('‚ùå LOGIN ERROR:', error);\n      setLoginError('Network error. Please check your connection and try again.');\n    } finally {\n      console.log('üîê Setting isSubmitting to false');\n      setIsSubmitting(false);\n    }\n  };\n\n  return (\n    <main>\n      <h2>{t('login.title')}</h2>\n      <form id=\"login-form\" onSubmit={handleSubmit(onSubmit)}>\n        {loginError && (\n          <div className=\"error\" style={{ marginBottom: '1rem', padding: '0.5rem', backgroundColor: '#ffebee', border: '1px solid #e57373', borderRadius: '4px' }}>\n            {loginError}\n          </div>\n        )}\n        \n        <label htmlFor=\"login-email\">{t('register.email')}</label>\n        <input type=\"email\" id=\"login-email\" name=\"email\" autoComplete=\"email\" placeholder={t('register.email')} {...register('email')} />\n        <p className=\"error\">{errors.email?.message as string}</p>\n\n        <label htmlFor=\"login-password\">{t('register.password')}</label>\n        <input type=\"password\" id=\"login-password\" name=\"password\" autoComplete=\"current-password\" placeholder={t('register.password')} {...register('password')} />\n        <p className=\"error\">{errors.password?.message as string}</p>\n\n        <button id=\"login\" className=\"details\" type=\"submit\" disabled={isSubmitting}>\n          {isSubmitting ? (t('button.submitting') || 'Submitting...') : (t('button.login') || 'Login')}\n        </button>\n        \n        {/* Debug button - Remove after testing */}\n        <button \n          type=\"button\" \n          onClick={() => {\n            console.log('üîç DEBUG: Current state - isSubmitting:', isSubmitting, 'loginError:', loginError);\n            setIsSubmitting(false); // Force reset\n          }}\n          style={{ marginLeft: '10px', backgroundColor: '#ff9800', color: 'white', padding: '5px 10px', border: 'none', borderRadius: '4px' }}\n        >\n          Reset Button\n        </button>\n      </form>\n\n      <p>\n        {t('login.remember')} <input type=\"checkbox\" id=\"login-remember\" name=\"remember\" autoComplete=\"off\" {...register('remember')} />\n      </p>\n      {/* ...removed alternative social login... */}\n    </main>\n  );\n};\n\nexport default LoginForm;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}