{"ast":null,"code":"import _objectSpread from\"/Applications/MAMP/htdocs/eky/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect,useMemo}from'react';import ReactDOM from'react-dom';import{useTranslation}from'react-i18next';import CardSmall from'../CardSmall';import EditDogModal from'./EditDogModal';import RemoveDogModal from'./RemoveDogModal';import DogDetails from'./DogDetails';import{useAuth}from'../../contexts/AuthContext';import Search from'../Search';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const API_URL=process.env.REACT_APP_API_URL||'';// Portal containers for DogList modals\nconst detailsModalRoot=document.getElementById('doglist-details-root')||(()=>{const root=document.createElement('div');root.id='doglist-details-root';root.style.position='absolute';root.style.top='0';root.style.left='0';root.style.zIndex='0';root.style.pointerEvents='none';document.body.appendChild(root);return root;})();const mapModalRoot=document.getElementById('doglist-map-root')||(()=>{const root=document.createElement('div');root.id='doglist-map-root';root.style.position='absolute';root.style.top='0';root.style.left='0';root.style.zIndex='0';root.style.pointerEvents='none';document.body.appendChild(root);return root;})();function DogList(){const{t}=useTranslation();const{token,user}=useAuth();const[dogs,setDogs]=useState([]);const[editDog,setEditDog]=useState(null);const[removeDog,setRemoveDog]=useState(null);const[detailsDog,setDetailsDog]=useState(null);const[mapDog,setMapDog]=useState(null);const[mapCoords,setMapCoords]=useState(null);const[mapLoading,setMapLoading]=useState(false);const[mapError,setMapError]=useState(null);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);// Search/filter state\nconst[searchTerm,setSearchTerm]=useState('');const[genderFilter,setGenderFilter]=useState('');const[sizeFilter,setSizeFilter]=useState('');const[locationFilter,setLocationFilter]=useState('');// Get unique locations for filter dropdown\nconst availableLocations=useMemo(()=>{const locations=dogs.map(dog=>dog.place||dog.location).filter(loc=>!!loc);return Array.from(new Set(locations)).sort();},[dogs]);// Filter dogs based on search/filters\nconst filteredDogs=useMemo(()=>{return dogs.filter(dog=>{// Search term matches name or breed\nconst term=searchTerm.toLowerCase();const matchesSearch=!term||dog.name&&dog.name.toLowerCase().includes(term)||dog.breed&&dog.breed.toLowerCase().includes(term);// Gender filter\nconst matchesGender=!genderFilter||dog.gender===genderFilter;// Size filter\nconst matchesSize=!sizeFilter||dog.size===sizeFilter;// Location filter\nconst dogLocation=dog.place||dog.location;const matchesLocation=!locationFilter||dogLocation===locationFilter;return matchesSearch&&matchesGender&&matchesSize&&matchesLocation;});},[dogs,searchTerm,genderFilter,sizeFilter,locationFilter]);// Geocode location for map modal\nconst openMapForDog=async dog=>{const location=dog.place||dog.location;if(!location)return;setMapDog({name:dog.name,location});setMapLoading(true);setMapError(null);setMapCoords(null);try{let query=location.trim();if(query.split(/\\s+/).length<2){query+=', Croatia';}const resp=await fetch(\"https://nominatim.openstreetmap.org/search?format=json&q=\".concat(encodeURIComponent(query),\"&limit=1\"));const data=await resp.json();if(data&&data.length>0){setMapCoords({lat:parseFloat(data[0].lat),lng:parseFloat(data[0].lon)});}else{setMapError(t('dogDetails.locationNotFound','Location not found'));}}catch(e){setMapError(t('dogDetails.locationSearchFailed','Location search failed'));}finally{setMapLoading(false);}};useEffect(()=>{setLoading(true);fetch(\"\".concat(API_URL,\"/api/dogs\")).then(res=>res.json()).then(data=>{setDogs(Array.isArray(data)?data:[]);setLoading(false);}).catch(err=>{setError('Failed to load dogs');setLoading(false);});},[]);const isDesktop=typeof window!=='undefined'&&window.innerWidth>=900;const handleEdit=dog=>setEditDog(dog);const handleRemove=dog=>setRemoveDog(dog);const handleDetails=dog=>setDetailsDog(dog);const handleEditSave=async updatedDog=>{// Use FormData for PATCH with files\nconst formData=new FormData();// Append all fields except images\nObject.entries(updatedDog).forEach(_ref=>{let[key,value]=_ref;if(key==='images'&&Array.isArray(value)){value.forEach(file=>{formData.append('media',file);});}else if(value!==undefined&&value!==null){// Only append string or Blob/File, otherwise convert to string\n// Special handling for gender: skip if null, 'null', or empty string\nif(key==='gender'&&(value===null||value==='null'||value==='')){// Do not append gender field\nreturn;}if(typeof value==='string'||value instanceof Blob){formData.append(key,value);}else{formData.append(key,String(value));}}});await fetch(\"\".concat(API_URL,\"/api/dogs/\").concat(updatedDog._id),{method:'PATCH',body:formData,credentials:'include'});setEditDog(null);setLoading(true);fetch(\"\".concat(API_URL,\"/api/dogs\")).then(res=>res.json()).then(data=>{setDogs(Array.isArray(data)?data:[]);setLoading(false);});};const handleRemoveConfirm=async()=>{if(!removeDog)return;const headers={};// Get token from context or fallback to localStorage\nconst authToken=token||localStorage.getItem('token');if(authToken){headers['Authorization']=\"Bearer \".concat(authToken);}console.log('[DELETE DEBUG] Deleting dog:',removeDog._id,'with token:',authToken?'present':'missing');try{const resp=await fetch(\"\".concat(API_URL,\"/api/dogs/\").concat(removeDog._id),{method:'DELETE',headers});const data=await resp.json();console.log('[DELETE DEBUG] Response status:',resp.status,'data:',data);if(!resp.ok){console.error('[DELETE DEBUG] Failed to delete dog:',data);setRemoveDog(null);return;}setRemoveDog(null);setLoading(true);fetch(\"\".concat(API_URL,\"/api/dogs\")).then(res=>res.json()).then(data=>{setDogs(Array.isArray(data)?data:[]);setLoading(false);});}catch(err){console.error('[DELETE DEBUG] Fetch error:',err);setRemoveDog(null);}};if(loading)return/*#__PURE__*/_jsx(\"div\",{children:t('doglist.loading')||'Loading dogs...'});if(error)return/*#__PURE__*/_jsx(\"div\",{style:{color:'red'},children:error});return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{style:{padding:'0 16px',paddingTop:'70px',maxWidth:'1200px',width:'100%',margin:'0 auto'},children:/*#__PURE__*/_jsx(Search,{searchTerm:searchTerm,onSearchChange:setSearchTerm,genderFilter:genderFilter,onGenderChange:setGenderFilter,sizeFilter:sizeFilter,onSizeChange:setSizeFilter,locationFilter:locationFilter,onLocationChange:setLocationFilter,availableLocations:availableLocations})}),/*#__PURE__*/_jsx(\"main\",{style:{display:isDesktop?'flex':'block',flexDirection:isDesktop?'row':undefined,alignItems:isDesktop?'flex-start':undefined,justifyContent:isDesktop?'center':undefined,gap:isDesktop?32:undefined,position:'relative',margin:isDesktop?'32px 0 32px 32px':undefined,marginTop:isDesktop?'32px':undefined,paddingTop:isDesktop?'16px':'16px',overflowY:'auto',WebkitOverflowScrolling:isDesktop?undefined:'touch'},children:filteredDogs.length===0?/*#__PURE__*/_jsx(\"div\",{children:t('doglist.empty')||'No dogs found.'}):/*#__PURE__*/_jsx(\"div\",{style:{display:isDesktop?'flex':'block',flexDirection:isDesktop?'row':undefined,gap:isDesktop?16:undefined,flexWrap:isDesktop?'wrap':undefined,alignItems:isDesktop?'flex-start':undefined,width:isDesktop?undefined:'100%'},children:filteredDogs.map(dog=>{// Deduplicate images by base name before passing to CardSmall\nconst getImageBase=url=>{let cleanUrl=url.split('?')[0];const filename=cleanUrl.substring(cleanUrl.lastIndexOf('/')+1);const base=filename.replace(/(-\\d{3,}(?:-[a-z0-9]+)?-(?:320|640|1024|orig))?(-(?:320|640|1024|orig))?(\\.(jpg|jpeg|png|webp))$/i,'').replace(/(-(?:320|640|1024|orig))?(\\.(jpg|jpeg|png|webp))$/i,'').replace(/(\\.(jpg|jpeg|png|webp))$/i,'');return base;};let dedupedImages=dog.images;if(Array.isArray(dog.images)){dedupedImages=dog.images.filter((img,idx,arr)=>{if(!img||!img.url)return false;const base=getImageBase(img.url);return arr.findIndex(other=>other&&other.url&&getImageBase(other.url)===base)===idx;});}const isOwner=user&&dog.user&&(typeof dog.user==='string'?dog.user===user._id:dog.user._id===user._id);return/*#__PURE__*/_jsx(\"div\",{style:isDesktop?{background:'#fafbfc',borderRadius:16,boxShadow:'0 2px 16px rgba(0,0,0,0.06)',padding:16,display:'block',minWidth:280,maxWidth:400,width:'auto',verticalAlign:'top'}:{},children:/*#__PURE__*/_jsx(CardSmall,_objectSpread(_objectSpread({},dog),{},{images:dedupedImages,canEdit:isOwner,onEdit:()=>handleEdit(dog),onRemove:()=>handleRemove(dog),onViewDetails:e=>{// Always close any open modals before opening new details\nsetEditDog(null);setDetailsDog(null);setMapDog(null);if(e&&Object.keys(e).length===0){// Location click - open map only\nopenMapForDog(dog);}else{handleDetails(dog);}}}))},dog._id);})})}),editDog&&/*#__PURE__*/_jsx(EditDogModal,{dog:editDog,onSave:handleEditSave,onClose:()=>setEditDog(null)},editDog._id||Math.random()),removeDog&&/*#__PURE__*/_jsx(RemoveDogModal,{dog:removeDog,onConfirm:handleRemoveConfirm,onClose:()=>setRemoveDog(null)}),detailsDog&&/*#__PURE__*/ReactDOM.createPortal(isDesktop?/*#__PURE__*/_jsx(\"div\",{style:{position:'fixed',top:'50%',left:'50%',transform:'translate(-50%, -50%)',width:'85vw',maxWidth:'700px',height:'auto',background:'rgba(0,0,0,0.5)',borderRadius:12,zIndex:2147483647,display:'flex',alignItems:'center',justifyContent:'center',padding:16,pointerEvents:'auto'},children:/*#__PURE__*/_jsxs(\"div\",{style:{background:'#fff',borderRadius:16,maxWidth:700,width:'95vw',maxHeight:'95vh',overflow:'auto',position:'relative',padding:24},children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setDetailsDog(null),style:{position:'absolute',top:12,right:12,width:22,height:22,background:'#e74c3c',border:'none',borderRadius:'50%',display:'flex',alignItems:'center',justifyContent:'center',padding:0,cursor:'pointer',zIndex:2,boxShadow:'0 2px 8px rgba(231,76,60,0.10)'},\"aria-label\":\"Close\",title:\"Close\",children:/*#__PURE__*/_jsx(\"span\",{style:{color:'#fff',fontSize:'2rem',fontWeight:900,lineHeight:1,display:'flex',alignItems:'center',justifyContent:'center',width:'100%',height:'100%'},children:\"\\xD7\"})}),/*#__PURE__*/_jsx(DogDetails,_objectSpread(_objectSpread({},detailsDog),{},{gender:detailsDog.gender==='male'||detailsDog.gender==='female'?detailsDog.gender:undefined,user:detailsDog.user||null,place:detailsDog.place,location:detailsDog.location||detailsDog.place,onClose:()=>setDetailsDog(null)}))]})}):/*#__PURE__*/_jsx(\"div\",{style:{position:'fixed',top:'10vh',left:'50%',transform:'translateX(-50%)',width:'95vw',maxWidth:'700px',height:'500px',maxHeight:'500px',background:'rgba(0,0,0,0.5)',borderRadius:12,zIndex:2147483647,display:'flex',alignItems:'flex-start',justifyContent:'center',padding:8,pointerEvents:'auto',overflowY:'auto'},children:/*#__PURE__*/_jsxs(\"div\",{style:{background:'#fff',borderRadius:12,maxWidth:700,width:'95vw',height:'480px',maxHeight:'480px',overflow:'auto',overflowX:'hidden',position:'relative',padding:16,WebkitOverflowScrolling:'touch'},children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setDetailsDog(null),style:{position:'absolute',top:8,right:8,width:36,height:36,background:'#e74c3c',color:'#fff',border:'none',borderRadius:'50%',fontSize:'1.5rem',fontWeight:'bold',cursor:'pointer',zIndex:10000,boxShadow:'0 4px 12px rgba(0,0,0,0.3)',padding:0,display:'flex',alignItems:'center',justifyContent:'center'},\"aria-label\":\"Close\",title:\"Close\",children:/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'1.8rem',lineHeight:1,color:'#fff'},children:\"\\xD7\"})}),/*#__PURE__*/_jsx(DogDetails,_objectSpread(_objectSpread({},detailsDog),{},{gender:detailsDog.gender==='male'||detailsDog.gender==='female'?detailsDog.gender:undefined,user:detailsDog.user||null,place:detailsDog.place,location:detailsDog.location||detailsDog.place,onClose:()=>setDetailsDog(null)}))]})}),detailsModalRoot),mapDog&&/*#__PURE__*/ReactDOM.createPortal(/*#__PURE__*/_jsx(\"div\",{style:{position:'fixed',top:'50%',left:'50%',transform:'translate(-50%, -50%)',width:'85vw',maxWidth:'600px',height:'auto',background:'rgba(0,0,0,0.6)',borderRadius:12,zIndex:2147483647,display:'flex',alignItems:'center',justifyContent:'center',padding:16,pointerEvents:'auto'},onClick:e=>{if(e.target===e.currentTarget)setMapDog(null);},children:/*#__PURE__*/_jsxs(\"div\",{style:{background:'#fff',borderRadius:16,maxWidth:600,width:'95vw',maxHeight:'80vh',overflow:'auto',position:'relative',padding:24},children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setMapDog(null),style:{position:'absolute',top:12,right:12,width:36,height:36,background:'#e74c3c',color:'#fff',border:'none',borderRadius:'50%',fontSize:'1.5rem',fontWeight:'bold',cursor:'pointer',zIndex:2},\"aria-label\":\"Close\",title:\"Close\",children:\"\\xD7\"}),/*#__PURE__*/_jsxs(\"h3\",{style:{marginTop:0,marginBottom:16},children:[\"\\uD83D\\uDCCD \",mapDog.name,\" - \",mapDog.location]}),mapLoading&&/*#__PURE__*/_jsx(\"div\",{style:{textAlign:'center',padding:20},children:t('dogDetails.loadingMap','Loading map...')}),mapError&&/*#__PURE__*/_jsx(\"div\",{style:{textAlign:'center',padding:20,color:'#e74c3c'},children:mapError}),mapCoords&&!mapLoading&&/*#__PURE__*/_jsx(\"iframe\",{title:\"Dog Location Map\",width:\"100%\",height:\"350\",style:{border:0,borderRadius:8},loading:\"lazy\",allowFullScreen:true,src:\"https://www.openstreetmap.org/export/embed.html?bbox=\".concat(mapCoords.lng-0.02,\"%2C\").concat(mapCoords.lat-0.02,\"%2C\").concat(mapCoords.lng+0.02,\"%2C\").concat(mapCoords.lat+0.02,\"&layer=mapnik&marker=\").concat(mapCoords.lat,\"%2C\").concat(mapCoords.lng)}),!mapCoords&&!mapLoading&&!mapError&&/*#__PURE__*/_jsx(\"div\",{style:{textAlign:'center',padding:20,color:'#888'},children:t('dogDetails.noLocationData','No location data available')})]})}),mapModalRoot)]});}export default DogList;","map":{"version":3,"names":["React","useState","useEffect","useMemo","ReactDOM","useTranslation","CardSmall","EditDogModal","RemoveDogModal","DogDetails","useAuth","Search","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","API_URL","process","env","REACT_APP_API_URL","detailsModalRoot","document","getElementById","root","createElement","id","style","position","top","left","zIndex","pointerEvents","body","appendChild","mapModalRoot","DogList","t","token","user","dogs","setDogs","editDog","setEditDog","removeDog","setRemoveDog","detailsDog","setDetailsDog","mapDog","setMapDog","mapCoords","setMapCoords","mapLoading","setMapLoading","mapError","setMapError","loading","setLoading","error","setError","searchTerm","setSearchTerm","genderFilter","setGenderFilter","sizeFilter","setSizeFilter","locationFilter","setLocationFilter","availableLocations","locations","map","dog","place","location","filter","loc","Array","from","Set","sort","filteredDogs","term","toLowerCase","matchesSearch","name","includes","breed","matchesGender","gender","matchesSize","size","dogLocation","matchesLocation","openMapForDog","query","trim","split","length","resp","fetch","concat","encodeURIComponent","data","json","lat","parseFloat","lng","lon","e","then","res","isArray","catch","err","isDesktop","window","innerWidth","handleEdit","handleRemove","handleDetails","handleEditSave","updatedDog","formData","FormData","Object","entries","forEach","_ref","key","value","file","append","undefined","Blob","String","_id","method","credentials","handleRemoveConfirm","headers","authToken","localStorage","getItem","console","log","status","ok","children","color","padding","paddingTop","maxWidth","width","margin","onSearchChange","onGenderChange","onSizeChange","onLocationChange","display","flexDirection","alignItems","justifyContent","gap","marginTop","overflowY","WebkitOverflowScrolling","flexWrap","getImageBase","url","cleanUrl","filename","substring","lastIndexOf","base","replace","dedupedImages","images","img","idx","arr","findIndex","other","isOwner","background","borderRadius","boxShadow","minWidth","verticalAlign","_objectSpread","canEdit","onEdit","onRemove","onViewDetails","keys","onSave","onClose","Math","random","onConfirm","createPortal","transform","height","maxHeight","overflow","onClick","right","border","cursor","title","fontSize","fontWeight","lineHeight","overflowX","target","currentTarget","marginBottom","textAlign","allowFullScreen","src"],"sources":["/Applications/MAMP/htdocs/eky/client/src/components/pages/DogList.tsx"],"sourcesContent":["\n\n\n\nimport React, { useState, useEffect, useMemo } from 'react';\nimport ReactDOM from 'react-dom';\nimport { useTranslation } from 'react-i18next';\nimport CardSmall from '../CardSmall';\nimport EditDogModal from './EditDogModal';\nimport RemoveDogModal from './RemoveDogModal';\nimport DogDetails from './DogDetails';\nimport type { DogDetailsProps } from './DogDetails';\nimport { useAuth } from '../../contexts/AuthContext';\nimport Search from '../Search';\nconst API_URL = process.env.REACT_APP_API_URL || '';\n\n// Portal containers for DogList modals\nconst detailsModalRoot = document.getElementById('doglist-details-root') || (() => {\n  const root = document.createElement('div');\n  root.id = 'doglist-details-root';\n  root.style.position = 'absolute';\n  root.style.top = '0';\n  root.style.left = '0';\n  root.style.zIndex = '0';\n  root.style.pointerEvents = 'none';\n  document.body.appendChild(root);\n  return root;\n})();\n\nconst mapModalRoot = document.getElementById('doglist-map-root') || (() => {\n  const root = document.createElement('div');\n  root.id = 'doglist-map-root';\n  root.style.position = 'absolute';\n  root.style.top = '0';\n  root.style.left = '0';\n  root.style.zIndex = '0';\n  root.style.pointerEvents = 'none';\n  document.body.appendChild(root);\n  return root;\n})();\n\nfunction DogList() {\n\n\tconst { t } = useTranslation();\n\tconst { token, user } = useAuth();\n\tconst [dogs, setDogs] = useState<DogDetailsProps[]>([]);\n\tconst [editDog, setEditDog] = useState<DogDetailsProps | null>(null);\n\tconst [removeDog, setRemoveDog] = useState<DogDetailsProps | null>(null);\n\tconst [detailsDog, setDetailsDog] = useState<DogDetailsProps | null>(null);\n\tconst [mapDog, setMapDog] = useState<{ name: string; location: string } | null>(null);\n\tconst [mapCoords, setMapCoords] = useState<{ lat: number; lng: number } | null>(null);\n\tconst [mapLoading, setMapLoading] = useState(false);\n\tconst [mapError, setMapError] = useState<string | null>(null);\n\tconst [loading, setLoading] = useState(true);\n\tconst [error, setError] = useState<string | null>(null);\n\n\t// Search/filter state\n\tconst [searchTerm, setSearchTerm] = useState('');\n\tconst [genderFilter, setGenderFilter] = useState('');\n\tconst [sizeFilter, setSizeFilter] = useState('');\n\tconst [locationFilter, setLocationFilter] = useState('');\n\n\t// Get unique locations for filter dropdown\n\tconst availableLocations = useMemo(() => {\n\t\tconst locations = dogs\n\t\t\t.map(dog => dog.place || (dog as any).location)\n\t\t\t.filter((loc): loc is string => !!loc);\n\t\treturn Array.from(new Set(locations)).sort();\n\t}, [dogs]);\n\n\t// Filter dogs based on search/filters\n\tconst filteredDogs = useMemo(() => {\n\t\treturn dogs.filter(dog => {\n\t\t\t// Search term matches name or breed\n\t\t\tconst term = searchTerm.toLowerCase();\n\t\t\tconst matchesSearch = !term || \n\t\t\t\t(dog.name && dog.name.toLowerCase().includes(term)) ||\n\t\t\t\t(dog.breed && dog.breed.toLowerCase().includes(term));\n\t\t\t\n\t\t\t// Gender filter\n\t\t\tconst matchesGender = !genderFilter || dog.gender === genderFilter;\n\t\t\t\n\t\t\t// Size filter\n\t\t\tconst matchesSize = !sizeFilter || dog.size === sizeFilter;\n\t\t\t\n\t\t\t// Location filter\n\t\t\tconst dogLocation = dog.place || (dog as any).location;\n\t\t\tconst matchesLocation = !locationFilter || dogLocation === locationFilter;\n\t\t\t\n\t\t\treturn matchesSearch && matchesGender && matchesSize && matchesLocation;\n\t\t});\n\t}, [dogs, searchTerm, genderFilter, sizeFilter, locationFilter]);\n\n\t// Geocode location for map modal\n\tconst openMapForDog = async (dog: DogDetailsProps) => {\n\t\tconst location = dog.place || (dog as any).location;\n\t\tif (!location) return;\n\t\tsetMapDog({ name: dog.name, location });\n\t\tsetMapLoading(true);\n\t\tsetMapError(null);\n\t\tsetMapCoords(null);\n\t\ttry {\n\t\t\tlet query = location.trim();\n\t\t\tif (query.split(/\\s+/).length < 2) {\n\t\t\t\tquery += ', Croatia';\n\t\t\t}\n\t\t\tconst resp = await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(query)}&limit=1`);\n\t\t\tconst data = await resp.json();\n\t\t\tif (data && data.length > 0) {\n\t\t\t\tsetMapCoords({ lat: parseFloat(data[0].lat), lng: parseFloat(data[0].lon) });\n\t\t\t} else {\n\t\t\t\tsetMapError(t('dogDetails.locationNotFound', 'Location not found'));\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tsetMapError(t('dogDetails.locationSearchFailed', 'Location search failed'));\n\t\t} finally {\n\t\t\tsetMapLoading(false);\n\t\t}\n\t};\n\n\tuseEffect(() => {\n\t\tsetLoading(true);\n\t\tfetch(`${API_URL}/api/dogs`)\n\t\t\t.then(res => res.json())\n\t\t\t.then(data => {\n\t\t\t\tsetDogs(Array.isArray(data) ? data : []);\n\t\t\t\tsetLoading(false);\n\t\t\t})\n\t\t\t.catch(err => {\n\t\t\t\tsetError('Failed to load dogs');\n\t\t\t\tsetLoading(false);\n\t\t\t});\n\t}, []);\n\n\tconst isDesktop = typeof window !== 'undefined' && window.innerWidth >= 900;\n\tconst handleEdit = (dog: DogDetailsProps) => setEditDog(dog);\n\tconst handleRemove = (dog: DogDetailsProps) => setRemoveDog(dog);\n\tconst handleDetails = (dog: DogDetailsProps) => setDetailsDog(dog);\n\tconst handleEditSave = async (updatedDog: any) => {\n\t\t// Use FormData for PATCH with files\n\t\tconst formData = new FormData();\n\t\t// Append all fields except images\n\t\tObject.entries(updatedDog).forEach(([key, value]) => {\n\t\t\tif (key === 'images' && Array.isArray(value)) {\n\t\t\t\tvalue.forEach((file: File) => {\n\t\t\t\t\tformData.append('media', file);\n\t\t\t\t});\n\t\t\t} else if (value !== undefined && value !== null) {\n\t\t\t\t// Only append string or Blob/File, otherwise convert to string\n\t\t\t\t   // Special handling for gender: skip if null, 'null', or empty string\n\t\t\t\t   if (\n\t\t\t\t\t   key === 'gender' &&\n\t\t\t\t\t   (value === null || value === 'null' || value === '')\n\t\t\t\t   ) {\n\t\t\t\t\t   // Do not append gender field\n\t\t\t\t\t   return;\n\t\t\t\t   }\n\t\t\t\t   if (typeof value === 'string' || value instanceof Blob) {\n\t\t\t\t\t   formData.append(key, value);\n\t\t\t\t   } else {\n\t\t\t\t\t   formData.append(key, String(value));\n\t\t\t\t   }\n\t\t\t}\n\t\t});\n\t\tawait fetch(`${API_URL}/api/dogs/${updatedDog._id}`, {\n\t\t\tmethod: 'PATCH',\n\t\t\tbody: formData,\n\t\t\tcredentials: 'include',\n\t\t});\n\t\tsetEditDog(null);\n\t\tsetLoading(true);\n\t\tfetch(`${API_URL}/api/dogs`)\n\t\t\t.then(res => res.json())\n\t\t\t.then(data => {\n\t\t\t\tsetDogs(Array.isArray(data) ? data : []);\n\t\t\t\tsetLoading(false);\n\t\t\t});\n\t};\n\tconst handleRemoveConfirm = async () => {\n\t\tif (!removeDog) return;\n\t\tconst headers: Record<string, string> = {};\n\t\t// Get token from context or fallback to localStorage\n\t\tconst authToken = token || localStorage.getItem('token');\n\t\tif (authToken) {\n\t\t\theaders['Authorization'] = `Bearer ${authToken}`;\n\t\t}\n\t\tconsole.log('[DELETE DEBUG] Deleting dog:', removeDog._id, 'with token:', authToken ? 'present' : 'missing');\n\t\ttry {\n\t\t\tconst resp = await fetch(`${API_URL}/api/dogs/${removeDog._id}`, { \n\t\t\t\tmethod: 'DELETE',\n\t\t\t\theaders\n\t\t\t});\n\t\t\tconst data = await resp.json();\n\t\t\tconsole.log('[DELETE DEBUG] Response status:', resp.status, 'data:', data);\n\t\t\tif (!resp.ok) {\n\t\t\t\tconsole.error('[DELETE DEBUG] Failed to delete dog:', data);\n\t\t\t\tsetRemoveDog(null);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tsetRemoveDog(null);\n\t\t\tsetLoading(true);\n\t\t\tfetch(`${API_URL}/api/dogs`)\n\t\t\t\t.then(res => res.json())\n\t\t\t\t.then(data => {\n\t\t\t\t\tsetDogs(Array.isArray(data) ? data : []);\n\t\t\t\t\tsetLoading(false);\n\t\t\t\t});\n\t\t} catch (err) {\n\t\t\tconsole.error('[DELETE DEBUG] Fetch error:', err);\n\t\t\tsetRemoveDog(null);\n\t\t}\n\t};\n\n\tif (loading) return <div>{t('doglist.loading') || 'Loading dogs...'}</div>;\n\tif (error) return <div style={{ color: 'red' }}>{error}</div>;\n\n\treturn (\n\t\t<>\n\t\t\t{/* Search bar */}\n\t\t\t<div style={{ padding: '0 16px', paddingTop: '70px', maxWidth: '1200px', width: '100%', margin: '0 auto' }}>\n\t\t\t\t<Search\n\t\t\t\t\tsearchTerm={searchTerm}\n\t\t\t\t\tonSearchChange={setSearchTerm}\n\t\t\t\t\tgenderFilter={genderFilter}\n\t\t\t\t\tonGenderChange={setGenderFilter}\n\t\t\t\t\tsizeFilter={sizeFilter}\n\t\t\t\t\tonSizeChange={setSizeFilter}\n\t\t\t\t\tlocationFilter={locationFilter}\n\t\t\t\t\tonLocationChange={setLocationFilter}\n\t\t\t\t\tavailableLocations={availableLocations}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<main\n\t\t\t\tstyle={{\n\t\t\t\t\tdisplay: isDesktop ? 'flex' : 'block',\n\t\t\t\t\tflexDirection: isDesktop ? 'row' : undefined,\n\t\t\t\t\talignItems: isDesktop ? 'flex-start' : undefined,\n\t\t\t\t\tjustifyContent: isDesktop ? 'center' : undefined,\n\t\t\t\t\tgap: isDesktop ? 32 : undefined,\n\t\t\t\t\tposition: 'relative',\n\t\t\t\t\tmargin: isDesktop ? '32px 0 32px 32px' : undefined,\n\t\t\t\t\tmarginTop: isDesktop ? '32px' : undefined,\n\t\t\t\t\tpaddingTop: isDesktop ? '16px' : '16px',\n\t\t\t\t\toverflowY: 'auto',\n\t\t\t\t\tWebkitOverflowScrolling: isDesktop ? undefined : 'touch',\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t{filteredDogs.length === 0 ? (\n\t\t\t\t\t<div>{t('doglist.empty') || 'No dogs found.'}</div>\n\t\t\t\t) : (\n\t\t\t\t\t<div\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tdisplay: isDesktop ? 'flex' : 'block',\n\t\t\t\t\t\t\tflexDirection: isDesktop ? 'row' : undefined,\n\t\t\t\t\t\t\tgap: isDesktop ? 16 : undefined,\n\t\t\t\t\t\t\tflexWrap: isDesktop ? 'wrap' : undefined,\n\t\t\t\t\t\t\talignItems: isDesktop ? 'flex-start' : undefined,\n\t\t\t\t\t\t\twidth: isDesktop ? undefined : '100%',\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t{filteredDogs.map(dog => {\n\t\t\t\t\t\t\t// Deduplicate images by base name before passing to CardSmall\n\t\t\t\t\t\t\tconst getImageBase = (url: string) => {\n\t\t\t\t\t\t\t\tlet cleanUrl = url.split('?')[0];\n\t\t\t\t\t\t\t\tconst filename = cleanUrl.substring(cleanUrl.lastIndexOf('/') + 1);\n\t\t\t\t\t\t\t\tconst base = filename.replace(/(-\\d{3,}(?:-[a-z0-9]+)?-(?:320|640|1024|orig))?(-(?:320|640|1024|orig))?(\\.(jpg|jpeg|png|webp))$/i, '')\n\t\t\t\t\t\t\t\t\t.replace(/(-(?:320|640|1024|orig))?(\\.(jpg|jpeg|png|webp))$/i, '')\n\t\t\t\t\t\t\t\t\t.replace(/(\\.(jpg|jpeg|png|webp))$/i, '');\n\t\t\t\t\t\t\t\treturn base;\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tlet dedupedImages = dog.images;\n\t\t\t\t\t\t\tif (Array.isArray(dog.images)) {\n\t\t\t\t\t\t\t\tdedupedImages = dog.images.filter((img, idx, arr) => {\n\t\t\t\t\t\t\t\t\tif (!img || !img.url) return false;\n\t\t\t\t\t\t\t\t\tconst base = getImageBase(img.url);\n\t\t\t\t\t\t\t\t\treturn arr.findIndex(other => other && other.url && getImageBase(other.url) === base) === idx;\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tconst isOwner = user && dog.user && (\n\t\t\t\t\t\t\t\ttypeof dog.user === 'string' \n\t\t\t\t\t\t\t\t\t? dog.user === user._id \n\t\t\t\t\t\t\t\t\t: dog.user._id === user._id\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tkey={dog._id}\n\t\t\t\t\t\t\t\t\tstyle={\n\t\t\t\t\t\t\t\t\t\tisDesktop\n\t\t\t\t\t\t\t\t\t\t\t? {\n\t\t\t\t\t\t\t\t\t\t\t\t\tbackground: '#fafbfc',\n\t\t\t\t\t\t\t\t\t\t\t\t\tborderRadius: 16,\n\t\t\t\t\t\t\t\t\t\t\t\t\tboxShadow: '0 2px 16px rgba(0,0,0,0.06)',\n\t\t\t\t\t\t\t\t\t\t\t\t\tpadding: 16,\n\t\t\t\t\t\t\t\t\t\t\t\t\tdisplay: 'block',\n\t\t\t\t\t\t\t\t\t\t\t\t\tminWidth: 280,\n\t\t\t\t\t\t\t\t\t\t\t\t\tmaxWidth: 400,\n\t\t\t\t\t\t\t\t\t\t\t\t\twidth: 'auto',\n\t\t\t\t\t\t\t\t\t\t\t\t\tverticalAlign: 'top',\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t: {}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<CardSmall\n\t\t\t\t\t\t\t\t\t\t{...dog}\n\t\t\t\t\t\t\t\t\t\timages={dedupedImages}\n\t\t\t\t\t\t\t\t\t\tcanEdit={isOwner}\n\t\t\t\t\t\t\t\t\t\tonEdit={() => handleEdit(dog)}\n\t\t\t\t\t\t\t\t\t\tonRemove={() => handleRemove(dog)}\n\t\t\t\t\t\t\t\t\t\tonViewDetails={e => {\n\t\t\t\t\t\t\t\t\t\t\t// Always close any open modals before opening new details\n\t\t\t\t\t\t\t\t\t\t\tsetEditDog(null);\n\t\t\t\t\t\t\t\t\t\t\tsetDetailsDog(null);\n\t\t\t\t\t\t\t\t\t\t\tsetMapDog(null);\n\t\t\t\t\t\t\t\t\t\t\tif (e && Object.keys(e).length === 0) {\n\t\t\t\t\t\t\t\t\t\t\t\t// Location click - open map only\n\t\t\t\t\t\t\t\t\t\t\t\topenMapForDog(dog);\n\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\thandleDetails(dog);\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t})}\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t</main>\n\t\t\t{editDog && (\n\t\t\t\t<EditDogModal\n\t\t\t\t\tkey={editDog._id || Math.random()}\n\t\t\t\t\tdog={editDog}\n\t\t\t\t\tonSave={handleEditSave}\n\t\t\t\t\tonClose={() => setEditDog(null)}\n\t\t\t\t/>\n\t\t\t)}\n\t\t\t{removeDog && (\n\t\t\t\t<RemoveDogModal\n\t\t\t\t\tdog={removeDog}\n\t\t\t\t\tonConfirm={handleRemoveConfirm}\n\t\t\t\t\tonClose={() => setRemoveDog(null)}\n\t\t\t\t/>\n\t\t\t)}\n\t\t\t{/* Details panel on desktop, modal on mobile */}\n\t\t\t{detailsDog && ReactDOM.createPortal(\n\t\t\t\t(isDesktop ? (\n\t\t\t\t\t<div\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tposition: 'fixed',\n\t\t\t\t\t\t\ttop: '50%',\n\t\t\t\t\t\t\tleft: '50%',\n\t\t\t\t\t\t\ttransform: 'translate(-50%, -50%)',\n\t\t\t\t\t\t\twidth: '85vw',\n\t\t\t\t\t\t\tmaxWidth: '700px',\n\t\t\t\t\t\t\theight: 'auto',\n\t\t\t\t\t\t\tbackground: 'rgba(0,0,0,0.5)',\n\t\t\t\t\t\t\tborderRadius: 12,\n\t\t\t\t\t\t\tzIndex: 2147483647,\n\t\t\t\t\t\t\tdisplay: 'flex',\n\t\t\t\t\t\t\talignItems: 'center',\n\t\t\t\t\t\t\tjustifyContent: 'center',\n\t\t\t\t\t\t\tpadding: 16,\n\t\t\t\t\t\t\tpointerEvents: 'auto'\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\tbackground: '#fff',\n\t\t\t\t\t\t\t\tborderRadius: 16,\n\t\t\t\t\t\t\t\tmaxWidth: 700,\n\t\t\t\t\t\t\t\twidth: '95vw',\n\t\t\t\t\t\t\t\tmaxHeight: '95vh',\n\t\t\t\t\t\t\t\toverflow: 'auto',\n\t\t\t\t\t\t\t\tposition: 'relative',\n\t\t\t\t\t\t\t\tpadding: 24,\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tonClick={() => setDetailsDog(null)}\n\t\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\t\t\t\t\t\t\ttop: 12,\n\t\t\t\t\t\t\t\t\t\t\tright: 12,\n\t\t\t\t\t\t\t\t\t\t\twidth: 22,\n\t\t\t\t\t\t\t\t\t\t\theight: 22,\n\t\t\t\t\t\t\t\t\t\t\tbackground: '#e74c3c',\n\t\t\t\t\t\t\t\t\t\t\tborder: 'none',\n\t\t\t\t\t\t\t\t\t\t\tborderRadius: '50%',\n\t\t\t\t\t\t\t\t\t\t\tdisplay: 'flex',\n\t\t\t\t\t\t\t\t\t\t\talignItems: 'center',\n\t\t\t\t\t\t\t\t\t\t\tjustifyContent: 'center',\n\t\t\t\t\t\t\t\t\t\t\tpadding: 0,\n\t\t\t\t\t\t\t\t\t\t\tcursor: 'pointer',\n\t\t\t\t\t\t\t\t\t\t\tzIndex: 2,\n\t\t\t\t\t\t\t\t\t\t\tboxShadow: '0 2px 8px rgba(231,76,60,0.10)',\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\taria-label=\"Close\"\n\t\t\t\t\t\t\t\t\t\ttitle=\"Close\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<span style={{\n\t\t\t\t\t\t\t\t\t\t\tcolor: '#fff',\n\t\t\t\t\t\t\t\t\t\t\tfontSize: '2rem',\n\t\t\t\t\t\t\t\t\t\t\tfontWeight: 900,\n\t\t\t\t\t\t\t\t\t\t\tlineHeight: 1,\n\t\t\t\t\t\t\t\t\t\t\tdisplay: 'flex',\n\t\t\t\t\t\t\t\t\t\t\talignItems: 'center',\n\t\t\t\t\t\t\t\t\t\t\tjustifyContent: 'center',\n\t\t\t\t\t\t\t\t\t\t\twidth: '100%',\n\t\t\t\t\t\t\t\t\t\t\theight: '100%',\n\t\t\t\t\t\t\t\t\t\t}}>√ó</span>\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t<DogDetails\n\t\t\t\t\t\t\t\t{...detailsDog}\n\t\t\t\t\t\t\t\tgender={\n\t\t\t\t\t\t\t\t\tdetailsDog.gender === 'male' || detailsDog.gender === 'female'\n\t\t\t\t\t\t\t\t\t\t? detailsDog.gender\n\t\t\t\t\t\t\t\t\t\t: undefined\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tuser={detailsDog.user || null}\n\t\t\t\t\t\t\t\tplace={detailsDog.place}\n\t\t\t\t\t\t\t\tlocation={detailsDog.location || detailsDog.place}\n\t\t\t\t\t\t\t\tonClose={() => setDetailsDog(null)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t) : (\n\t\t\t\t\t<div\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tposition: 'fixed',\n\t\t\t\t\t\t\ttop: '10vh',\n\t\t\t\t\t\t\tleft: '50%',\n\t\t\t\t\t\t\ttransform: 'translateX(-50%)',\n\t\t\t\t\t\t\twidth: '95vw',\n\t\t\t\t\t\t\tmaxWidth: '700px',\n\t\t\t\t\t\t\theight: '500px',\n\t\t\t\t\t\t\tmaxHeight: '500px',\n\t\t\t\t\t\t\tbackground: 'rgba(0,0,0,0.5)',\n\t\t\t\t\t\t\tborderRadius: 12,\n\t\t\t\t\t\t\tzIndex: 2147483647,\n\t\t\t\t\t\t\tdisplay: 'flex',\n\t\t\t\t\t\t\talignItems: 'flex-start',\n\t\t\t\t\t\t\tjustifyContent: 'center',\n\t\t\t\t\t\t\tpadding: 8,\n\t\t\t\t\t\t\tpointerEvents: 'auto',\n\t\t\t\t\t\t\toverflowY: 'auto'\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\tbackground: '#fff',\n\t\t\t\t\t\t\t\tborderRadius: 12,\n\t\t\t\t\t\t\t\tmaxWidth: 700,\n\t\t\t\t\t\t\t\twidth: '95vw',\n\t\t\t\t\t\t\t\theight: '480px',\n\t\t\t\t\t\t\t\tmaxHeight: '480px',\n\t\t\t\t\t\t\t\toverflow: 'auto',\n\t\t\t\t\t\t\t\toverflowX: 'hidden',\n\t\t\t\t\t\t\t\tposition: 'relative',\n\t\t\t\t\t\t\t\tpadding: 16,\n\t\t\t\t\t\t\t\tWebkitOverflowScrolling: 'touch'\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tonClick={() => setDetailsDog(null)}\n\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\t\t\t\t\ttop: 8,\n\t\t\t\t\t\t\t\t\tright: 8,\n\t\t\t\t\t\t\t\t\twidth: 36,\n\t\t\t\t\t\t\t\t\theight: 36,\n\t\t\t\t\t\t\t\t\tbackground: '#e74c3c',\n\t\t\t\t\t\t\t\t\tcolor: '#fff',\n\t\t\t\t\t\t\t\t\tborder: 'none',\n\t\t\t\t\t\t\t\t\tborderRadius: '50%',\n\t\t\t\t\t\t\t\t\tfontSize: '1.5rem',\n\t\t\t\t\t\t\t\t\tfontWeight: 'bold',\n\t\t\t\t\t\t\t\t\tcursor: 'pointer',\n\t\t\t\t\t\t\t\t\tzIndex: 10000,\n\t\t\t\t\t\t\t\t\tboxShadow: '0 4px 12px rgba(0,0,0,0.3)',\n\t\t\t\t\t\t\t\t\tpadding: 0,\n\t\t\t\t\t\t\t\t\tdisplay: 'flex',\n\t\t\t\t\t\t\t\t\talignItems: 'center',\n\t\t\t\t\t\t\t\t\tjustifyContent: 'center'\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\taria-label=\"Close\"\n\t\t\t\t\t\t\t\ttitle=\"Close\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<span style={{\n\t\t\t\t\t\t\t\t\tfontSize: '1.8rem',\n\t\t\t\t\t\t\t\t\tlineHeight: 1,\n\t\t\t\t\t\t\t\t\tcolor: '#fff'\n\t\t\t\t\t\t\t\t}}>√ó</span>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t<DogDetails\n\t\t\t\t\t\t\t\t{...detailsDog}\n\t\t\t\t\t\t\t\tgender={\n\t\t\t\t\t\t\t\t\tdetailsDog.gender === 'male' || detailsDog.gender === 'female'\n\t\t\t\t\t\t\t\t\t\t? detailsDog.gender\n\t\t\t\t\t\t\t\t\t\t: undefined\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tuser={detailsDog.user || null}\n\t\t\t\t\t\t\t\tplace={detailsDog.place}\n\t\t\t\t\t\t\t\tlocation={detailsDog.location || detailsDog.place}\n\t\t\t\t\t\t\t\tonClose={() => setDetailsDog(null)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t)),\n\t\t\t\tdetailsModalRoot\n\t\t\t)}\n\t\t\t{/* Map-only modal */}\n\t\t\t{mapDog && ReactDOM.createPortal(\n\t\t\t\t<div\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tposition: 'fixed',\n\t\t\t\t\t\ttop: '50%',\n\t\t\t\t\t\tleft: '50%',\n\t\t\t\t\t\ttransform: 'translate(-50%, -50%)',\n\t\t\t\t\t\twidth: '85vw',\n\t\t\t\t\t\tmaxWidth: '600px',\n\t\t\t\t\t\theight: 'auto',\n\t\t\t\t\t\tbackground: 'rgba(0,0,0,0.6)',\n\t\t\t\t\t\tborderRadius: 12,\n\t\t\t\t\t\tzIndex: 2147483647,\n\t\t\t\t\t\tdisplay: 'flex',\n\t\t\t\t\t\talignItems: 'center',\n\t\t\t\t\t\tjustifyContent: 'center',\n\t\t\t\t\t\tpadding: 16,\n\t\t\t\t\t\tpointerEvents: 'auto'\n\t\t\t\t\t}}\n\t\t\t\t\tonClick={(e) => { if (e.target === e.currentTarget) setMapDog(null); }}\n\t\t\t\t>\n\t\t\t\t\t<div\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tbackground: '#fff',\n\t\t\t\t\t\t\tborderRadius: 16,\n\t\t\t\t\t\t\tmaxWidth: 600,\n\t\t\t\t\t\t\twidth: '95vw',\n\t\t\t\t\t\t\tmaxHeight: '80vh',\n\t\t\t\t\t\t\toverflow: 'auto',\n\t\t\t\t\t\t\tposition: 'relative',\n\t\t\t\t\t\t\tpadding: 24,\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tonClick={() => setMapDog(null)}\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\t\t\t\ttop: 12,\n\t\t\t\t\t\t\t\tright: 12,\n\t\t\t\t\t\t\t\twidth: 36,\n\t\t\t\t\t\t\t\theight: 36,\n\t\t\t\t\t\t\t\tbackground: '#e74c3c',\n\t\t\t\t\t\t\t\tcolor: '#fff',\n\t\t\t\t\t\t\t\tborder: 'none',\n\t\t\t\t\t\t\t\tborderRadius: '50%',\n\t\t\t\t\t\t\t\tfontSize: '1.5rem',\n\t\t\t\t\t\t\t\tfontWeight: 'bold',\n\t\t\t\t\t\t\t\tcursor: 'pointer',\n\t\t\t\t\t\t\t\tzIndex: 2,\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\taria-label=\"Close\"\n\t\t\t\t\t\t\ttitle=\"Close\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t√ó\n\t\t\t\t\t\t</button>\n\t\t\t\t\t\t<h3 style={{ marginTop: 0, marginBottom: 16 }}>\n\t\t\t\t\t\t\tüìç {mapDog.name} - {mapDog.location}\n\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t{mapLoading && <div style={{ textAlign: 'center', padding: 20 }}>{t('dogDetails.loadingMap', 'Loading map...')}</div>}\n\t\t\t\t\t\t{mapError && <div style={{ textAlign: 'center', padding: 20, color: '#e74c3c' }}>{mapError}</div>}\n\t\t\t\t\t\t{mapCoords && !mapLoading && (\n\t\t\t\t\t\t\t<iframe\n\t\t\t\t\t\t\t\ttitle=\"Dog Location Map\"\n\t\t\t\t\t\t\t\twidth=\"100%\"\n\t\t\t\t\t\t\t\theight=\"350\"\n\t\t\t\t\t\t\t\tstyle={{ border: 0, borderRadius: 8 }}\n\t\t\t\t\t\t\t\tloading=\"lazy\"\n\t\t\t\t\t\t\t\tallowFullScreen\n\t\t\t\t\t\t\t\tsrc={`https://www.openstreetmap.org/export/embed.html?bbox=${mapCoords.lng - 0.02}%2C${mapCoords.lat - 0.02}%2C${mapCoords.lng + 0.02}%2C${mapCoords.lat + 0.02}&layer=mapnik&marker=${mapCoords.lat}%2C${mapCoords.lng}`}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{!mapCoords && !mapLoading && !mapError && (\n\t\t\t\t\t\t\t<div style={{ textAlign: 'center', padding: 20, color: '#888' }}>\n\t\t\t\t\t\t\t\t{t('dogDetails.noLocationData', 'No location data available')}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t</div>,\n\t\t\t\tmapModalRoot\n\t\t\t)}\n\t\t</>\n\t);\n}\n\nexport default DogList;\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}